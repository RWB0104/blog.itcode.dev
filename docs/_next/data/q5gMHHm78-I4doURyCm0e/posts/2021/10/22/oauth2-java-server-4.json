{"pageProps":{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 4. NAVER OAuth 서비스 신청 및 모듈 구현하기","excerpt":"첫 번째 플랫폼으로, NAVER에 OAuth 서비스를 신청하고 인증 모듈을 구현한다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-22T22:25:16","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0","scribeJAVA"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-22-oauth2-java-server-4.md","url":["2021-10-22-oauth2-java-server-4","2021","10","22","oauth2-java-server-4"],"toc":"<ul><li><a href=\"#개요\">개요</a></li><li><a href=\"#NAVER-OAuth 서비스 신청하기\">NAVER OAuth 서비스 신청하기</a></li><ul><li><a href=\"#1.-네이버 개발자 센터 접속하기\">1. 네이버 개발자 센터 접속하기</a></li><li><a href=\"#2.-애플리케이션 등록\">2. 애플리케이션 등록</a></li><ul><li><a href=\"#애플리케이션-이름\">애플리케이션 이름</a></li><li><a href=\"#사용-API\">사용 API</a></li><li><a href=\"#로그인-오픈 API 서비스 환경\">로그인 오픈 API 서비스 환경</a></li><li><a href=\"#API-정보 확인\">API 정보 확인</a></li></ul><li><a href=\"#NAVER-인증 모듈 구현하기\">NAVER 인증 모듈 구현하기</a></li><li><a href=\"#properties-파일 생성하기\">properties 파일 생성하기</a></li><li><a href=\"#인증-모듈 기본 메서드 및 변수 할당하기\">인증 모듈 기본 메서드 및 변수 할당하기</a></li><li><a href=\"#API-URL 할당하기\">API URL 할당하기</a></li><li><a href=\"#인증-URL 반환 메서드\">인증 URL 반환 메서드</a></li><li><a href=\"#접근-토큰 반환 메서드\">접근 토큰 반환 메서드</a></li><li><a href=\"#접근-토큰 갱신 및 반환 메서드\">접근 토큰 갱신 및 반환 메서드</a></li><li><a href=\"#사용자-정보 응답 반환 메서드\">사용자 정보 응답 반환 메서드</a></li><li><a href=\"#유저-정보 객체 반환 메서드\">유저 정보 객체 반환 메서드</a></li><li><a href=\"#연동-해제 결과 반환 메서드\">연동 해제 결과 반환 메서드</a></li><li><a href=\"#정보-제공 동의 갱신 URL 반환 메서드\">정보 제공 동의 갱신 URL 반환 메서드</a></li><li><a href=\"#전체-코드\">전체 코드</a></li></ul><li><a href=\"#정리\">정리</a></li></ul>","content":"<h1 id=\"개요\">개요 <a href=\"#개요\">🔗</a></h1><p>첫 번째 플랫폼으로, NAVER에 OAuth 서비스를 신청하고 인증 모듈을 구현한다.</p>\n<h1 id=\"NAVER-OAuth 서비스 신청하기\">NAVER OAuth 서비스 신청하기 <a href=\"#NAVER-OAuth 서비스 신청하기\">🔗</a></h1><p>API 정보를 얻기 위해 NAVER OAuth 서비스를 신청하자.</p>\n<h2 id=\"1.-네이버 개발자 센터 접속하기\">1. 네이버 개발자 센터 접속하기 <a href=\"#1.-네이버 개발자 센터 접속하기\">🔗</a></h2><p>로그인 후 <a href=\"https://developers.naver.com/main/\" target=\"_blank\">네이버 개발자 센터</a>에 접속하자.</p>\n<p>NAVER의 OAuth는 네이버 아이디로 로그인. 속칭 네아로라는 명칭으로 서비스를 제공하고 있다.</p>\n<p>네이버 개발자 센터에서 해당 서비스를 사용하는 애플리케이션을 등록하면 된다.</p>\n<br />\n\n<p>상단 헤더의 [<span class=\"lightBlue-600\">Application</span> - <span class=\"lightBlue-600\">애플리케이션 등록</span>] 메뉴로 접속하자.</p>\n<h2 id=\"2.-애플리케이션 등록\">2. 애플리케이션 등록 <a href=\"#2.-애플리케이션 등록\">🔗</a></h2><p>OAuth 정보를 관리하게 될 애플리케이션을 등록하자.</p>\n<p>아래의 항목을 모두 입력해야하며, 해당 항목들은 심사 후에도 언제든지 변경이 가능하다.</p>\n<h3 id=\"애플리케이션-이름\">애플리케이션 이름 <a href=\"#애플리케이션-이름\">🔗</a></h3><p>해당 애플리케이션의 이름이다. 이 이름은 네이버 로그인 창에도 표시가 된다.</p>\n<p>\n\t\t<a href=\"https://user-images.githubusercontent.com/50317129/138466274-8c7dff01-7aaf-4911-a2c6-874caa418122.png\" target=\"_blank\" data-title=\"null\">\n\t\t\t<img src=\"https://user-images.githubusercontent.com/50317129/138466274-8c7dff01-7aaf-4911-a2c6-874caa418122.png\" alt=\"image\" />\n\t\t</a>\n\t</p>\n<p>필자의 네아로 창 예시. 필자의 애플리케이션 이름은 OAuth2로, 위 창의 OAuth2 부분에 지정한 이름이 표시된다.</p>\n<h3 id=\"사용-API\">사용 API <a href=\"#사용-API\">🔗</a></h3><p>사용할 API를 선택한다.</p>\n<p>네이버와 관련된 여러 API를 제공하지만, 지금은 프로젝트의 목적에 맞게 <span class=\"primary\">네아로 서비스</span>를 선택한다.</p>\n<br />\n\n<p>네아로 서비스를 선택하면 제공 정보를 선택하는 폼이 추가된다.</p>\n<p>이는 사용자의 인증 정보로 얻을 수 있는 정보를 선별하는 것으로, 필수와 추가로 구분하여 선택할 수 있다.</p>\n<p>필수 혹은 추가로 지정된 정보는 추후 사용자의 정보 호출 시 접근이 가능하다.</p>\n<br />\n\n<blockquote>\n<p><b class=\"red-600\">🛑 주의!!</b><br>네이버는 필수 정보조차도 사용자가 임의로 거부할 수 있다. 즉, 서비스 운영에 있어서 이 정보가 필수라는 사항은 사용자에게 고지하더라도, 사용자가 이를 거부해버리면 서비스 입장에선 방법이 없다.<br>상기한 이유로, 네이버는 사용자 정보 검증의 중요도가 타 플랫폼보다 높다. 필수와 추가의 차이점은 체크박스의 기본값이 체크냐 해제냐로 갈린다. 필수의 경우 기본적으로 체크하나, 추가의 경우 기본적으로 해제된 채 사용자에게 제공된다.</p>\n</blockquote>\n<p>원하는 정보를 선택하자. 반드시 필요하다면 필수를, 그렇지 않다면 추가로 두자. 혹시 모른답시고 전체 데이터를 체크하지 말자. 물론 불가능한 건 아니지만, 추후 OAuth 키 배포 활성화 심사에서 불필요하거나 과도한 데이터 접근 허가를 요구할 경우 심사를 반려할 수도 있다. 반드시 필요한 최소한의 정보만을 요구하자.</p>\n<h3 id=\"로그인-오픈 API 서비스 환경\">로그인 오픈 API 서비스 환경 <a href=\"#로그인-오픈 API 서비스 환경\">🔗</a></h3><p>OAuth를 사용할 환경에 대해 입력한다.</p>\n<p>해당 프로젝트는 웹을 대상으로 구축되었으므로, PC 웹으로 선택한다. Android나 iOS를 추가할 수도 있다. 여러 환경을 동시에 추가하여 하나의 키로 여러 플랫폼에 접근하는 식의 통합 관리도 가능하다.</p>\n<br />\n\n<p>서비스 URL은 네아로를 적용하려는 서비스의 URL이다.</p>\n<p>Callback URL은 로그인 후 결과를 전달할 URL이다. 최대 5개까지 지정할 수 있으며, 추후 설정할 <code class=\"inline-code\">naver.properties</code> 파일의 <code class=\"inline-code\">callback</code>은 이 Callback URL 중 하나가 입력되어야 한다. 플랫폼 로그인 과정에서 등록되지 않은 Callback URL이 감지될 경우 오류를 출력한다.</p>\n<p><code class=\"inline-code\">https://example.com/oauth2</code> 같은 URL의 영식을 입력하며, <code class=\"inline-code\">https://example.com/oauth2?key=value</code>와 같이 임의의 URL 파라미터를 붙여도 된다.</p>\n<p>모든 항목에 이상이 없으면 애플리케이션을 만들자.</p>\n<h3 id=\"API-정보 확인\">API 정보 확인 <a href=\"#API-정보 확인\">🔗</a></h3><p>\n\t\t<a href=\"https://user-images.githubusercontent.com/50317129/138097785-f918f5b3-2d9f-49c0-82b6-09f95c64242c.png\" target=\"_blank\" data-title=\"null\">\n\t\t\t<img src=\"https://user-images.githubusercontent.com/50317129/138097785-f918f5b3-2d9f-49c0-82b6-09f95c64242c.png\" alt=\"image\" />\n\t\t</a>\n\t</p>\n<p>애플리케이션을 만들면 API와 Secret을 확인할 수 있다. Secret은 기본적으로 마스킹되어있으며, 별도의 버튼을 눌러 확인할 수 있다. Secret이 유출되었다고 판단될 경우, 재발급을 할 수도 있다. 이 경우 당연히도 인증 서버에 변경된 Secret을 적용해야한다.</p>\n<h1 id=\"NAVER-인증 모듈 구현하기\">NAVER 인증 모듈 구현하기 <a href=\"#NAVER-인증 모듈 구현하기\">🔗</a></h1><p>필요한 모든 준비가 갖춰졌으니, NAVER 인증 모듈을 구현해보자. 이전에 구현한 <code class=\"inline-code\">AuthModule</code>을 상속받아 구현할 것이다.</p>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>JAVA</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-java\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NaverAuthModule</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AuthModule</span></td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=2><td class=\"line-number\" data-number=\"2\">2</td><td class=\"line-code\" data-number=2>    <span class=\"token comment\" data-tag=\"new\">// NAVER 인증 모듈</span></td></tr>\n<tr data-number=3><td class=\"line-number\" data-number=\"3\">3</td><td class=\"line-code\" data-number=3><span class=\"token punctuation\">}</span></td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t<p>객체의 기본 형식은 위와 같다.</p>\n\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">메서드</th>\n<th align=\"center\">메서드 타입</th>\n<th align=\"center\">내용</th>\n<th align=\"center\">구현 필요 여부</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\"><code class=\"inline-code\">getAuthorizationUrl</code></td>\n<td align=\"center\">추상</td>\n<td align=\"center\">인증 URL 반환 메서드</td>\n<td align=\"center\">Y</td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">getAccessToken</code></td>\n<td align=\"center\"></td>\n<td align=\"center\">접근 토큰 반환 메서드</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">getRefreshAccessToken</code></td>\n<td align=\"center\"></td>\n<td align=\"center\">접근 토큰 갱신 및 반환 메서드</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">getUserInfo</code></td>\n<td align=\"center\"></td>\n<td align=\"center\">사용자 정보 응답 반환 메서드</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">getRefreshTokenEndpoint</code></td>\n<td align=\"center\"></td>\n<td align=\"center\">접근 토큰 재발급 요청 URL 반환 메서드</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">getApiKeyBean</code></td>\n<td align=\"center\"></td>\n<td align=\"center\">API 키 객체 반환 메서드</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">getUserInfoEndPoint</code></td>\n<td align=\"center\"></td>\n<td align=\"center\">사용자 정보 요청 URL 반환 메서드</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">getUserInfoBean</code></td>\n<td align=\"center\">추상</td>\n<td align=\"center\">유저 정보 객체 반환 메서드</td>\n<td align=\"center\">Y</td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">deleteInfo</code></td>\n<td align=\"center\">추상</td>\n<td align=\"center\">연동 해제 결과 반환 메서드</td>\n<td align=\"center\">Y</td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">getUpdateAuthorizationUrl</code></td>\n<td align=\"center\">추상</td>\n<td align=\"center\">정보 제공 동의 갱신 URL 반환 메서드</td>\n<td align=\"center\">Y</td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">getAccessTokenEndpoint</code></td>\n<td align=\"center\">추상</td>\n<td align=\"center\">접근 토큰 요청 URL 반환 메서드</td>\n<td align=\"center\">Y</td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">getAuthorizationBaseUrl</code></td>\n<td align=\"center\">추상</td>\n<td align=\"center\">인증 API 요청 URL 반환 메서드</td>\n<td align=\"center\">Y</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<p>NAVER 모듈이 구현해야하는 대상은 위와 같다.</p>\n<h2 id=\"properties-파일 생성하기\">properties 파일 생성하기 <a href=\"#properties-파일 생성하기\">🔗</a></h2><p><code class=\"inline-code\">WEB-INF</code> 아래 <code class=\"inline-code\">naver.properties</code> 파일을 생성한다. 기 생성된 <code class=\"inline-code\">sample.properties</code>를 복사해서 사용해도 된다.</p>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>PROPERTIES</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-properties\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0>api=API_KEY</td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1>secret=SECRET_KEY</td></tr>\n<tr data-number=2><td class=\"line-number\" data-number=\"2\">2</td><td class=\"line-code\" data-number=2>callback=CALLBACK_URL</td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t<p>기본적인 형식은 위와 같으며, 각 항목에 해당하는 값을 입력하면 된다.</p>\n<h2 id=\"인증-모듈 기본 메서드 및 변수 할당하기\">인증 모듈 기본 메서드 및 변수 할당하기 <a href=\"#인증-모듈 기본 메서드 및 변수 할당하기\">🔗</a></h2><p>인증 모듈이 정상적으로 동작하기 위해선 기본적으로 지정해줘야할 메서드와 변수들이 존재한다. API 정보 설정, 인스턴스 반환같은 것들이다.</p>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>JAVA</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-java\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0><span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> MODULE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"naver\"</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1></td></tr>\n<tr data-number=2><td class=\"line-number\" data-number=\"2\">2</td><td class=\"line-code\" data-number=2><span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> API_KEY<span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=3><td class=\"line-number\" data-number=\"3\">3</td><td class=\"line-code\" data-number=3><span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> SECRET_KEY<span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=4><td class=\"line-number\" data-number=\"4\">4</td><td class=\"line-code\" data-number=4><span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> CALLBACK_URL<span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=5><td class=\"line-number\" data-number=\"5\">5</td><td class=\"line-code\" data-number=5></td></tr>\n<tr data-number=6><td class=\"line-number\" data-number=\"6\">6</td><td class=\"line-code\" data-number=6><span class=\"token keyword\">static</span></td></tr>\n<tr data-number=7><td class=\"line-number\" data-number=\"7\">7</td><td class=\"line-code\" data-number=7><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=8><td class=\"line-number\" data-number=\"8\">8</td><td class=\"line-code\" data-number=8>    <span class=\"token class-name\">ApiKeyBean</span> apiKeyBean <span class=\"token operator\">=</span> <span class=\"token function\">getApiKeyBean</span><span class=\"token punctuation\">(</span>MODULE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=9><td class=\"line-number\" data-number=\"9\">9</td><td class=\"line-code\" data-number=9>    </td></tr>\n<tr data-number=10><td class=\"line-number\" data-number=\"10\">10</td><td class=\"line-code\" data-number=10>    API_KEY <span class=\"token operator\">=</span> apiKeyBean<span class=\"token punctuation\">.</span><span class=\"token function\">getApi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=11><td class=\"line-number\" data-number=\"11\">11</td><td class=\"line-code\" data-number=11>    SECRET_KEY <span class=\"token operator\">=</span> apiKeyBean<span class=\"token punctuation\">.</span><span class=\"token function\">getSecret</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=12><td class=\"line-number\" data-number=\"12\">12</td><td class=\"line-code\" data-number=12>    CALLBACK_URL <span class=\"token operator\">=</span> apiKeyBean<span class=\"token punctuation\">.</span><span class=\"token function\">getCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=13><td class=\"line-number\" data-number=\"13\">13</td><td class=\"line-code\" data-number=13><span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=14><td class=\"line-number\" data-number=\"14\">14</td><td class=\"line-code\" data-number=14></td></tr>\n<tr data-number=15><td class=\"line-number\" data-number=\"15\">15</td><td class=\"line-code\" data-number=15><span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ServiceBuilderOAuth20</span> SERVICE_BUILDER <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ServiceBuilder</span><span class=\"token punctuation\">(</span>API_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">apiSecret</span><span class=\"token punctuation\">(</span>SECRET_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>CALLBACK_URL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=16><td class=\"line-number\" data-number=\"16\">16</td><td class=\"line-code\" data-number=16></td></tr>\n<tr data-number=17><td class=\"line-number\" data-number=\"17\">17</td><td class=\"line-code\" data-number=17><span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">NaverAuthModule</span> INSTANCE <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NaverAuthModule</span><span class=\"token punctuation\">(</span>SERVICE_BUILDER<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=18><td class=\"line-number\" data-number=\"18\">18</td><td class=\"line-code\" data-number=18></td></tr>\n<tr data-number=19><td class=\"line-number\" data-number=\"19\">19</td><td class=\"line-code\" data-number=19><span class=\"token keyword\">private</span> <span class=\"token class-name\">NaverAuthModule</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ServiceBuilderOAuth20</span> serviceBuilder<span class=\"token punctuation\">)</span></td></tr>\n<tr data-number=20><td class=\"line-number\" data-number=\"20\">20</td><td class=\"line-code\" data-number=20><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=21><td class=\"line-number\" data-number=\"21\">21</td><td class=\"line-code\" data-number=21>    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>serviceBuilder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=22><td class=\"line-number\" data-number=\"22\">22</td><td class=\"line-code\" data-number=22><span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=23><td class=\"line-number\" data-number=\"23\">23</td><td class=\"line-code\" data-number=23></td></tr>\n<tr data-number=24><td class=\"line-number\" data-number=\"24\">24</td><td class=\"line-code\" data-number=24><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">NaverAuthModule</span> <span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></td></tr>\n<tr data-number=25><td class=\"line-number\" data-number=\"25\">25</td><td class=\"line-code\" data-number=25><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=26><td class=\"line-number\" data-number=\"26\">26</td><td class=\"line-code\" data-number=26>    <span class=\"token keyword\">return</span> INSTANCE<span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=27><td class=\"line-number\" data-number=\"27\">27</td><td class=\"line-code\" data-number=27><span class=\"token punctuation\">}</span></td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">구분</th>\n<th align=\"center\">형식</th>\n<th align=\"center\">내용</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\"><code class=\"inline-code\">MODULE_NAME</code></td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">모듈 이름</td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">API_KEY</code></td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">API키</td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">SECRET_KEY</code></td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Secret키</td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">CALLBACK_URL</code></td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">콜백 URL</td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">SERVICE_BUILDER</code></td>\n<td align=\"center\"><code class=\"inline-code\">ServiceBuilderOAuth20</code></td>\n<td align=\"center\">OAuth2.0 서비스 빌더</td>\n</tr>\n<tr>\n<td align=\"center\"><code class=\"inline-code\">INSTANCE</code></td>\n<td align=\"center\"><code class=\"inline-code\">NaverAuthModule</code></td>\n<td align=\"center\">인스턴스</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<p>정의된 변수는 전부 <code class=\"inline-code\">static final</code>로 선언되어 있어서, <span class=\"red-400\">인스턴스 생성 시 한 번만 선언되며 재할당이 불가능</span>하도록 관리한다.</p>\n<p><code class=\"inline-code\">static{ }</code> 구문을 통해 인스턴스 생성 시 API 정보를 할당하도록 구성했다.</p>\n<p>API 할당 시 <code class=\"inline-code\">getApiKeyBean()</code> 메서드를 통해 제공된 이름을 갖는 properties를 분석하여 <code class=\"inline-code\">ApiKeyBean</code> 객체를 반환받아 사용한다.</p>\n<h2 id=\"API-URL 할당하기\">API URL 할당하기 <a href=\"#API-URL 할당하기\">🔗</a></h2><p>각 API 별 요청 URL을 반환하는 메서드를 구현하자.</p>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>JAVA</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-java\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0><span class=\"token annotation punctuation\">@Override</span></td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1><span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getAccessTokenEndpoint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></td></tr>\n<tr data-number=2><td class=\"line-number\" data-number=\"2\">2</td><td class=\"line-code\" data-number=2><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=3><td class=\"line-number\" data-number=\"3\">3</td><td class=\"line-code\" data-number=3>    <span class=\"token keyword\">return</span> <span class=\"token string\">\"https://nid.naver.com/oauth2.0/token\"</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=4><td class=\"line-number\" data-number=\"4\">4</td><td class=\"line-code\" data-number=4><span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=5><td class=\"line-number\" data-number=\"5\">5</td><td class=\"line-code\" data-number=5></td></tr>\n<tr data-number=6><td class=\"line-number\" data-number=\"6\">6</td><td class=\"line-code\" data-number=6><span class=\"token annotation punctuation\">@Override</span></td></tr>\n<tr data-number=7><td class=\"line-number\" data-number=\"7\">7</td><td class=\"line-code\" data-number=7><span class=\"token keyword\">protected</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getAuthorizationBaseUrl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></td></tr>\n<tr data-number=8><td class=\"line-number\" data-number=\"8\">8</td><td class=\"line-code\" data-number=8><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=9><td class=\"line-number\" data-number=\"9\">9</td><td class=\"line-code\" data-number=9>    <span class=\"token keyword\">return</span> <span class=\"token string\">\"https://nid.naver.com/oauth2.0/authorize\"</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=10><td class=\"line-number\" data-number=\"10\">10</td><td class=\"line-code\" data-number=10><span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=11><td class=\"line-number\" data-number=\"11\">11</td><td class=\"line-code\" data-number=11></td></tr>\n<tr data-number=12><td class=\"line-number\" data-number=\"12\">12</td><td class=\"line-code\" data-number=12><span class=\"token annotation punctuation\">@Override</span></td></tr>\n<tr data-number=13><td class=\"line-number\" data-number=\"13\">13</td><td class=\"line-code\" data-number=13><span class=\"token keyword\">protected</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getUserInfoEndPoint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></td></tr>\n<tr data-number=14><td class=\"line-number\" data-number=\"14\">14</td><td class=\"line-code\" data-number=14><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=15><td class=\"line-number\" data-number=\"15\">15</td><td class=\"line-code\" data-number=15>    <span class=\"token keyword\">return</span> <span class=\"token string\">\"https://openapi.naver.com/v1/nid/me\"</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=16><td class=\"line-number\" data-number=\"16\">16</td><td class=\"line-code\" data-number=16><span class=\"token punctuation\">}</span></td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t<ul>\n<li><code class=\"inline-code\">getAccessTokenEndpoint()</code> - 토큰과 관련된 API는 해당 메소드가 반환하는 URL을 토대로 사용한다.</li>\n<li><code class=\"inline-code\">getAuthorizationBaseUrl()</code> - 인증과 관련된 API는 해당 메소드가 반환하는 URL을 토대로 사용한다.</li>\n<li><code class=\"inline-code\">getUserInfoEndPoint()</code> - 사용자 정보와 관련된 API는 해당 메소드가 반환하는 URL을 토대로 사용한다.</li>\n</ul>\n<p>OAuth2.0 서비스를 수행함에 있어서 필요한 URL은 위와 같다. 이 중 <code class=\"inline-code\">getAccessTokenEndpoint()</code>과 <code class=\"inline-code\">getAuthorizationBaseUrl()</code>는 scribeJAVA 라이브러리의 객체인 <code class=\"inline-code\">DefaultApi20</code>의 추상 메서드고 나머지 하나가 <code class=\"inline-code\">AuthModule</code>의 추상 메서드다.</p>\n<p><code class=\"inline-code\">DefaultApi20</code>는 사용자 계정 API에 관련된 메서드를 별도로 제공하지 않는다. 하지만 <code class=\"inline-code\">AuthModule</code>에서 사용자 정보 확인 공통 메서드를 사용할 때 사용자 계정 API가 반드시 필요하므로 <code class=\"inline-code\">AuthModule</code>의 추상 메서드로 관리한다.</p>\n<h2 id=\"인증-URL 반환 메서드\">인증 URL 반환 메서드 <a href=\"#인증-URL 반환 메서드\">🔗</a></h2><p><span class=\"blue-500\">네이버 플랫폼 로그인 URL을 반환하는 기능</span>을 구현한다.</p>\n<p>우선 API를 살펴보자.</p>\n<br />\n\n<ul>\n<li>요청</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>TXT</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-txt\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0>GET/POST https://nid.naver.com/oauth2.0/authorize?response_type=code&amp;client_id={:client_id}&amp;redirect_uri={:redirect_uri}&amp;state={:state}</td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">parameter</th>\n<th align=\"center\">type</th>\n<th align=\"center\">data</th>\n<th align=\"center\">required</th>\n<th align=\"center\">description</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\">{:response_type}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">응답 타입. <code class=\"inline-code\">code</code>로 고정</td>\n</tr>\n<tr>\n<td align=\"center\">{:client_id}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">API키</td>\n</tr>\n<tr>\n<td align=\"center\">{:redirect_uri}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">Callback URL</td>\n</tr>\n<tr>\n<td align=\"center\">{:state}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">고유 상태값</td>\n</tr>\n<tr>\n<td align=\"center\">{:scope}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\"></td>\n<td align=\"center\">접근 허용 범위로, 사용하지 않음</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<br />\n\n<ul>\n<li>응답</li>\n</ul>\n<p>네이버 플랫폼 로그인 페이지</p>\n<br />\n\n<p>네이버 플랫폼 로그인 API는 위와 같다. 메서드가 요청의 URL을 반환하도록 설계하면 된다.</p>\n<p>문자열 연산으로 URL을 직접 설계할 수도 있지만, <code class=\"inline-code\">service.getAuthorizationUrl()</code> 메서드를 통해 URL을 간편하게 생성할 수 있다.</p>\n<p>이미 <code class=\"inline-code\">AuthModule</code>에 공통 메서드로 선언된 게 있으므로, <span class=\"red-400\">따로 구현하지 않아도 된다.</span></p>\n<h2 id=\"접근-토큰 반환 메서드\">접근 토큰 반환 메서드 <a href=\"#접근-토큰 반환 메서드\">🔗</a></h2><p>로그인 결과로 Code를 전달받으므로 <span class=\"blue-500\">Access Token으로 교환하는 기능</span>을 구현한다.</p>\n<p>네이버 API는 아래와 같다.</p>\n<br />\n\n<ul>\n<li>요청</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>TXT</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-txt\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0>GET/POST https://nid.naver.com/oauth2.0/token?grant_type=authorization_code&amp;client_id={:client_id}&amp;client_secret={:client_secret}&amp;code={:code}&amp;state={:state}</td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">parameter</th>\n<th align=\"center\">type</th>\n<th align=\"center\">data</th>\n<th align=\"center\">required</th>\n<th align=\"center\">description</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\">{:grant_type}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">인증 타입. <code class=\"inline-code\">authorization_code</code>로 고정</td>\n</tr>\n<tr>\n<td align=\"center\">{:client_id}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">API키</td>\n</tr>\n<tr>\n<td align=\"center\">{:client_secret}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">Secret키</td>\n</tr>\n<tr>\n<td align=\"center\">{:code}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">인가 코드</td>\n</tr>\n<tr>\n<td align=\"center\">{:state}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\"></td>\n<td align=\"center\">고유 상태값</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<br />\n\n<ul>\n<li>응답</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>JSON</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-json\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1>    <span class=\"token property\">\"access_token\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AAAAQosjWDJieBiQZc3to9YQp6HDLvrmyKC+6+iZ3gq7qrkqf50ljZC+Lgoqrg\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=2><td class=\"line-number\" data-number=\"2\">2</td><td class=\"line-code\" data-number=2>    <span class=\"token property\">\"refresh_token\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"c8ceMEJisO4Se7uGisHoX0f5JEii7JnipglQipkOn5Zp3tyP7dHQoP0zNKHUq2gY\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=3><td class=\"line-number\" data-number=\"3\">3</td><td class=\"line-code\" data-number=3>    <span class=\"token property\">\"token_type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"bearer\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=4><td class=\"line-number\" data-number=\"4\">4</td><td class=\"line-code\" data-number=4>    <span class=\"token property\">\"expires_in\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3600\"</span></td></tr>\n<tr data-number=5><td class=\"line-number\" data-number=\"5\">5</td><td class=\"line-code\" data-number=5><span class=\"token punctuation\">}</span></td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">parameter</th>\n<th align=\"center\">data</th>\n<th align=\"center\">description</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\">access_token</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">인증 토큰</td>\n</tr>\n<tr>\n<td align=\"center\">refresh_token</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">리프레쉬 토큰</td>\n</tr>\n<tr>\n<td align=\"center\">token_type</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">토큰 타입</td>\n</tr>\n<tr>\n<td align=\"center\">expires_in</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">만료일자 (초 단위)</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<br />\n\n<p><code class=\"inline-code\">service.getAccessToken()</code> 메서드의 응답으로 위 JSON 응답의 DTO 객체인 <code class=\"inline-code\">OAuth2AccessToken</code>를 얻을 수 있다.</p>\n<p>마찬가지로 <code class=\"inline-code\">AuthModule</code>에 선언된 공통 메서드를 활용하면 되므로, 굳이 <span class=\"red-400\">구현할 필요 없다.</span></p>\n<h2 id=\"접근-토큰 갱신 및 반환 메서드\">접근 토큰 갱신 및 반환 메서드 <a href=\"#접근-토큰 갱신 및 반환 메서드\">🔗</a></h2><p>Access Token은 만료시간이 한시간 정도로 매우 짧다. Access Token이 만료될 경우, 사용자에게 플랫폼 로그인을 통해 인증 정보를 다시 요구해야하지만 Refresh Token이 있다면 별도의 절차 없이 서비스 내부에서 <span class=\"blue-500\">Access Token을 재발급</span> 받을 수 있다.</p>\n<p>이 Refresh Token은 인증 권한은 없지만, Access Token을 재발급받는 권한을 가진다.</p>\n<p>이를 구현한 네이버 API는 아래와 같다.</p>\n<br />\n\n<ul>\n<li>요청</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>TXT</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-txt\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0>GET/POST https://nid.naver.com/oauth2.0/token?grant_type=refresh_token&amp;client_id={:client_id}&amp;client_secret={:client_secret}&amp;refresh_token=${:refresh_token}</td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">parameter</th>\n<th align=\"center\">type</th>\n<th align=\"center\">data</th>\n<th align=\"center\">required</th>\n<th align=\"center\">description</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\">{:grant_type}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">인증 타입. <code class=\"inline-code\">refresh_token</code>로 고정</td>\n</tr>\n<tr>\n<td align=\"center\">{:client_id}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">API키</td>\n</tr>\n<tr>\n<td align=\"center\">{:client_secret}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">Secret키</td>\n</tr>\n<tr>\n<td align=\"center\">{:refresh_token}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">리프레쉬 토큰</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<br />\n\n<ul>\n<li>응답</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>JSON</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-json\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1>    <span class=\"token property\">\"access_token\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"AAAAQjbRkysCNmMdQ7kmowPrjyRNIRYKG2iGHhbGawP0xfuYwjrE2WTI3p44SNepkFXME/NlxfamcJKPmUU4dSUhz+R2CmUqnN0lGuOcbEw6iexg\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=2><td class=\"line-number\" data-number=\"2\">2</td><td class=\"line-code\" data-number=2>    <span class=\"token property\">\"token_type\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"bearer\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=3><td class=\"line-number\" data-number=\"3\">3</td><td class=\"line-code\" data-number=3>    <span class=\"token property\">\"expires_in\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"3600\"</span></td></tr>\n<tr data-number=4><td class=\"line-number\" data-number=\"4\">4</td><td class=\"line-code\" data-number=4><span class=\"token punctuation\">}</span></td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">parameter</th>\n<th align=\"center\">data</th>\n<th align=\"center\">description</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\">access_token</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">인증 토큰</td>\n</tr>\n<tr>\n<td align=\"center\">token_type</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">토큰 타입</td>\n</tr>\n<tr>\n<td align=\"center\">expires_in</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">만료일자 (초 단위)</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<br />\n\n<p><code class=\"inline-code\">AuthModule</code>의 공통 메서드로 대체 가능하므로 <span class=\"red-400\">별도로 구현하지 않는다.</span></p>\n<h2 id=\"사용자-정보 응답 반환 메서드\">사용자 정보 응답 반환 메서드 <a href=\"#사용자-정보 응답 반환 메서드\">🔗</a></h2><p><span class=\"blue-500\">Access Token으로 유저 정보를 호출하는 기능</span>을 구현한다. 발급받은 Access Token을 실제로 유의미하게 쓰는 부분이다.</p>\n<p>네이버 API는 아래와 같다.</p>\n<br />\n\n<ul>\n<li>요청</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>TXT</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-txt\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0>GET https://openapi.naver.com/v1/nid/me</td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1>Authorization: Bearer {:access_token}</td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">parameter</th>\n<th align=\"center\">type</th>\n<th align=\"center\">data</th>\n<th align=\"center\">required</th>\n<th align=\"center\">description</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\">{:access_token}</td>\n<td align=\"center\">header</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">접근 토큰</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<br />\n\n<ul>\n<li>응답</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>JSON</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-json\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1>    <span class=\"token property\">\"resultcode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"00\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=2><td class=\"line-number\" data-number=\"2\">2</td><td class=\"line-code\" data-number=2>    <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"success\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=3><td class=\"line-number\" data-number=\"3\">3</td><td class=\"line-code\" data-number=3>    <span class=\"token property\">\"response\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=4><td class=\"line-number\" data-number=\"4\">4</td><td class=\"line-code\" data-number=4>        <span class=\"token property\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"openapi@naver.com\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=5><td class=\"line-number\" data-number=\"5\">5</td><td class=\"line-code\" data-number=5>        <span class=\"token property\">\"nickname\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"OpenAPI\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=6><td class=\"line-number\" data-number=\"6\">6</td><td class=\"line-code\" data-number=6>        <span class=\"token property\">\"profile_image\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://ssl.pstatic.net/static/pwe/address/nodata_33x33.gif\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=7><td class=\"line-number\" data-number=\"7\">7</td><td class=\"line-code\" data-number=7>        <span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"40-49\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=8><td class=\"line-number\" data-number=\"8\">8</td><td class=\"line-code\" data-number=8>        <span class=\"token property\">\"gender\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"F\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=9><td class=\"line-number\" data-number=\"9\">9</td><td class=\"line-code\" data-number=9>        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"32742776\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=10><td class=\"line-number\" data-number=\"10\">10</td><td class=\"line-code\" data-number=10>        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"오픈 API\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=11><td class=\"line-number\" data-number=\"11\">11</td><td class=\"line-code\" data-number=11>        <span class=\"token property\">\"birthday\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10-01\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=12><td class=\"line-number\" data-number=\"12\">12</td><td class=\"line-code\" data-number=12>        <span class=\"token property\">\"birthyear\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1900\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=13><td class=\"line-number\" data-number=\"13\">13</td><td class=\"line-code\" data-number=13>        <span class=\"token property\">\"mobile\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"010-0000-0000\"</span></td></tr>\n<tr data-number=14><td class=\"line-number\" data-number=\"14\">14</td><td class=\"line-code\" data-number=14>    <span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=15><td class=\"line-number\" data-number=\"15\">15</td><td class=\"line-code\" data-number=15><span class=\"token punctuation\">}</span></td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">parameter</th>\n<th align=\"center\">data</th>\n<th align=\"center\">description</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\">resultcode</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\"><a href=\"https://developers.naver.com/docs/common/openapiguide/errorcode.md\" target=\"_blank\">API 호출 결과 코드</a></td>\n</tr>\n<tr>\n<td align=\"center\">message</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">호출 결과 메시지</td>\n</tr>\n<tr>\n<td align=\"center\">response.id</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">동일인 식별 정보 (고유 해쉬값)</td>\n</tr>\n<tr>\n<td align=\"center\">response.nickname</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">사용자 별명 (없을 경우 id***)</td>\n</tr>\n<tr>\n<td align=\"center\">response.name</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">사용자 이름</td>\n</tr>\n<tr>\n<td align=\"center\">response.email</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">사용자 메일 주소 (내 정보의 이메일 주소 기준)</td>\n</tr>\n<tr>\n<td align=\"center\">response.gender</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">성별 (F - 여성, M - 남성, U - 확인불가)</td>\n</tr>\n<tr>\n<td align=\"center\">response.age</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">연령대</td>\n</tr>\n<tr>\n<td align=\"center\">response.birthday</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">생일 (MM-DD)</td>\n</tr>\n<tr>\n<td align=\"center\">response.profile_image</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">사용자 프로필 사진 URL</td>\n</tr>\n<tr>\n<td align=\"center\">response.birthyear</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">출생연도</td>\n</tr>\n<tr>\n<td align=\"center\">response.mobile</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">휴대전화번호</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<br />\n\n<p>id는 우리가 생각하는 <code class=\"inline-code\">xxx@naver.com</code> 형태의 아이디가 아니라 아이디별로 부여받는 고유 해쉬값이다.</p>\n<p>네이버 아이디는 <code class=\"inline-code\">response.email</code>로 얻을 수 있지만, 제한적이다. 만약 [<span class=\"lightBlue-600\">내 정보</span> - <span class=\"lightBlue-600\">연락처 이메일</span>]을 다른 메일로 변경했다면 네이버 메일이 아닌 해당 메일이 표시된다. <span class=\"red-400\">공식적으로 프로필 API에서 네이버 메일을 확정적으로 얻을 수 있는 방법은 없다.</span></p>\n<p><code class=\"inline-code\">AuthModule</code>의 공통 메서드로 대체 가능하므로 <span class=\"red-400\">별도로 구현하지 않는다.</span></p>\n<h2 id=\"유저-정보 객체 반환 메서드\">유저 정보 객체 반환 메서드 <a href=\"#유저-정보 객체 반환 메서드\">🔗</a></h2><p><span class=\"blue-500\">네이버의 유저 정보 호출 API 응답 형식에 맞게끔 응답을 파싱</span>하여 <code class=\"inline-code\">UserInfoBean</code>로 반환하는 메서드를 구현한다.</p>\n<p>이 프로젝트에선 이름, 이메일, 프로필사진 URL만을 사용하므로, 응답에서 해당 값을 빼내어 객체에 담는다.</p>\n<br />\n\n<ul>\n<li>코드</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>JAVA</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-java\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0><span class=\"token annotation punctuation\">@Override</span></td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1><span class=\"token keyword\">public</span> <span class=\"token class-name\">UserInfoBean</span> <span class=\"token function\">getUserInfoBean</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> body<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">JsonProcessingException</span></td></tr>\n<tr data-number=2><td class=\"line-number\" data-number=\"2\">2</td><td class=\"line-code\" data-number=2><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=3><td class=\"line-number\" data-number=\"3\">3</td><td class=\"line-code\" data-number=3>    <span class=\"token class-name\">ObjectMapper</span> mapper <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ObjectMapper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=4><td class=\"line-number\" data-number=\"4\">4</td><td class=\"line-code\" data-number=4>    </td></tr>\n<tr data-number=5><td class=\"line-number\" data-number=\"5\">5</td><td class=\"line-code\" data-number=5>    <span class=\"token class-name\">JsonNode</span> node <span class=\"token operator\">=</span> mapper<span class=\"token punctuation\">.</span><span class=\"token function\">readTree</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=6><td class=\"line-number\" data-number=\"6\">6</td><td class=\"line-code\" data-number=6>    </td></tr>\n<tr data-number=7><td class=\"line-number\" data-number=\"7\">7</td><td class=\"line-code\" data-number=7>    <span class=\"token class-name\">String</span> email <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"미동의\"</span> <span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">textValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=8><td class=\"line-number\" data-number=\"8\">8</td><td class=\"line-code\" data-number=8>    <span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"미동의\"</span> <span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">textValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=9><td class=\"line-number\" data-number=\"9\">9</td><td class=\"line-code\" data-number=9>    <span class=\"token class-name\">String</span> profile_image <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"profile_image\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"/oauth2/assets/images/logo.png\"</span> <span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"profile_image\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">textValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=10><td class=\"line-number\" data-number=\"10\">10</td><td class=\"line-code\" data-number=10>    </td></tr>\n<tr data-number=11><td class=\"line-number\" data-number=\"11\">11</td><td class=\"line-code\" data-number=11>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UserInfoBean</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> profile_image<span class=\"token punctuation\">,</span> MODULE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=12><td class=\"line-number\" data-number=\"12\">12</td><td class=\"line-code\" data-number=12><span class=\"token punctuation\">}</span></td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t<br />\n\n<p>응답 형식에 맞추어 필요한 값을 추출한다. 만약, 사용자가 정보 제공에 동의하지 않았을 경우 대상 객체가 <code class=\"inline-code\">null</code>을 반환한다. <span class=\"red-600\">네이버는 필수/추가에 상관없이 동의/거부를 할 수 있기 때문</span>에 데이터에 대한 <code class=\"inline-code\">null</code> 처리를 반드시 해야한다.</p>\n<h2 id=\"연동-해제 결과 반환 메서드\">연동 해제 결과 반환 메서드 <a href=\"#연동-해제 결과 반환 메서드\">🔗</a></h2><p>네이버 아이디로 처음 로그인을 하면 정보 제공 동의를 수행하는데, 나중에 다시 로그인을 하면 이러한 동의 과정이 생략된다. 즉, 플랫폼에서 첫 로그인 시 정보 제공 동의를 받아 어딘가로부터 저장한다는 뜻이다. 만약 사용자가 서비스로부터 회원 탈퇴를 수행한다면 <span class=\"blue-500\">네이버와의 연동을 해제하여 정보를 완전히 삭제</span>할 필요가 있다.</p>\n<p>네이버 API는 아래와 같다.</p>\n<br />\n\n<ul>\n<li>요청</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>TXT</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-txt\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0>GET/POST https://nid.naver.com/oauth2.0/token?grant_type=delete&amp;client_id={:client_id}&amp;client_secret={:client_secret}&amp;access_token={:access_token}&amp;service_provider=NAVER</td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">parameter</th>\n<th align=\"center\">type</th>\n<th align=\"center\">data</th>\n<th align=\"center\">required</th>\n<th align=\"center\">description</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\">{:grant_type}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">인증 타입. <code class=\"inline-code\">delete</code>로 고정</td>\n</tr>\n<tr>\n<td align=\"center\">{:client_id}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">API키</td>\n</tr>\n<tr>\n<td align=\"center\">{:client_secret}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">Secret키</td>\n</tr>\n<tr>\n<td align=\"center\">{:access_token}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">접근 토큰</td>\n</tr>\n<tr>\n<td align=\"center\">{:service_provider}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">서비스 제공자. <code class=\"inline-code\">NAVER</code>로 고정</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<br />\n\n<ul>\n<li>응답</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>JSON</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-json\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1>    <span class=\"token property\">\"access_token\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"c8ceMEjfnorlQwEisqemfpM1Wzw7aGp7JnipglQipkOn5Zp3tyP7dHQoP0zNKHUq2gY\"</span><span class=\"token punctuation\">,</span></td></tr>\n<tr data-number=2><td class=\"line-number\" data-number=\"2\">2</td><td class=\"line-code\" data-number=2>    <span class=\"token property\">\"result\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"success\"</span></td></tr>\n<tr data-number=3><td class=\"line-number\" data-number=\"3\">3</td><td class=\"line-code\" data-number=3><span class=\"token punctuation\">}</span></td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">parameter</th>\n<th align=\"center\">data</th>\n<th align=\"center\">description</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\">access_token</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">삭제 처리된 접근 토큰값</td>\n</tr>\n<tr>\n<td align=\"center\">result</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">처리결과. 성공일 경우 success 반환</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<br />\n\n<ul>\n<li>코드</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>JAVA</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-java\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0><span class=\"token annotation punctuation\">@Override</span></td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1><span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">deleteInfo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> access<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ExecutionException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InterruptedException</span></td></tr>\n<tr data-number=2><td class=\"line-number\" data-number=\"2\">2</td><td class=\"line-code\" data-number=2><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=3><td class=\"line-number\" data-number=\"3\">3</td><td class=\"line-code\" data-number=3>    <span class=\"token class-name\">OAuthRequest</span> oAuthRequest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OAuthRequest</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Verb</span><span class=\"token punctuation\">.</span>GET<span class=\"token punctuation\">,</span> <span class=\"token function\">getAccessTokenEndpoint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=4><td class=\"line-number\" data-number=\"4\">4</td><td class=\"line-code\" data-number=4>    oAuthRequest<span class=\"token punctuation\">.</span><span class=\"token function\">addQuerystringParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"client_id\"</span><span class=\"token punctuation\">,</span> API_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=5><td class=\"line-number\" data-number=\"5\">5</td><td class=\"line-code\" data-number=5>    oAuthRequest<span class=\"token punctuation\">.</span><span class=\"token function\">addQuerystringParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"client_secret\"</span><span class=\"token punctuation\">,</span> SECRET_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=6><td class=\"line-number\" data-number=\"6\">6</td><td class=\"line-code\" data-number=6>    oAuthRequest<span class=\"token punctuation\">.</span><span class=\"token function\">addQuerystringParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"access_token\"</span><span class=\"token punctuation\">,</span> access<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=7><td class=\"line-number\" data-number=\"7\">7</td><td class=\"line-code\" data-number=7>    oAuthRequest<span class=\"token punctuation\">.</span><span class=\"token function\">addQuerystringParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"grant_type\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"delete\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=8><td class=\"line-number\" data-number=\"8\">8</td><td class=\"line-code\" data-number=8>    oAuthRequest<span class=\"token punctuation\">.</span><span class=\"token function\">addQuerystringParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"service_provider\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"NAVER\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=9><td class=\"line-number\" data-number=\"9\">9</td><td class=\"line-code\" data-number=9>    </td></tr>\n<tr data-number=10><td class=\"line-number\" data-number=\"10\">10</td><td class=\"line-code\" data-number=10>    service<span class=\"token punctuation\">.</span><span class=\"token function\">signRequest</span><span class=\"token punctuation\">(</span>access<span class=\"token punctuation\">,</span> oAuthRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=11><td class=\"line-number\" data-number=\"11\">11</td><td class=\"line-code\" data-number=11>    </td></tr>\n<tr data-number=12><td class=\"line-number\" data-number=\"12\">12</td><td class=\"line-code\" data-number=12>    <span class=\"token class-name\">Response</span> response <span class=\"token operator\">=</span> service<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span>oAuthRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=13><td class=\"line-number\" data-number=\"13\">13</td><td class=\"line-code\" data-number=13>    </td></tr>\n<tr data-number=14><td class=\"line-number\" data-number=\"14\">14</td><td class=\"line-code\" data-number=14>    <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">isSuccessful</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=15><td class=\"line-number\" data-number=\"15\">15</td><td class=\"line-code\" data-number=15><span class=\"token punctuation\">}</span></td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t<br />\n\n<p>구현은 간단하다. <code class=\"inline-code\">OAuthRequest</code> 객체를 활용하면 요청을 쉽게 생성할 수 있다. 응답 자체는 중요하지 않으므로 <code class=\"inline-code\">response.isSuccessful()</code> 메서드로 응답이 정상적인지 여부만 판단하여 <code class=\"inline-code\">boolean</code>으로 반환한다.</p>\n<h2 id=\"정보-제공 동의 갱신 URL 반환 메서드\">정보 제공 동의 갱신 URL 반환 메서드 <a href=\"#정보-제공 동의 갱신 URL 반환 메서드\">🔗</a></h2><p>서비스 운영 중 추가적인 사용자 정보가 필요하거나 필요 없을 때, <span class=\"blue-500\">사용자 정보 동의 갱신을 통해 동의 정보를 다시 지정</span>할 수 있다.</p>\n<p>API는 아래와 같다.</p>\n<br />\n\n<ul>\n<li>요청</li>\n</ul>\n\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>TXT</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-txt\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0>GET/POST https://nid.naver.com/oauth2.0/authorize?auth_type=reprompt&amp;state=${:state}&amp;response_type=code&amp;client_id=${:client_id}&amp;redirect_uri=${:redirect_uri}</td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"table-wrapper\">\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n<th align=\"center\">parameter</th>\n<th align=\"center\">type</th>\n<th align=\"center\">data</th>\n<th align=\"center\">required</th>\n<th align=\"center\">description</th>\n</tr>\n\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n<td align=\"center\">{:response_type}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">응답 타입. <code class=\"inline-code\">code</code>로 고정</td>\n</tr>\n<tr>\n<td align=\"center\">{:client_id}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">API키</td>\n</tr>\n<tr>\n<td align=\"center\">{:redirect_uri}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">Callback URL</td>\n</tr>\n<tr>\n<td align=\"center\">{:state}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\">Y</td>\n<td align=\"center\">고유 상태값</td>\n</tr>\n<tr>\n<td align=\"center\">{:auth_type}</td>\n<td align=\"center\">path</td>\n<td align=\"center\"><code class=\"inline-code\">String</code></td>\n<td align=\"center\"></td>\n<td align=\"center\">인증 타입. <code class=\"inline-code\">reprompt</code>로 고정</td>\n</tr>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t<br />\n\n<ul>\n<li>응답</li>\n</ul>\n<p>네이버 플랫폼 정보 제공 동의 페이지</p>\n<br />\n\n<p>해당 페이지에서 정보 제공 동의여부를 재선택할 수 있다. 이후 로그인과 동일하게 <code class=\"inline-code\">code</code>와 <code class=\"inline-code\">state</code>를 리다이렉션 URL로 보낸다. 이후 동작은 로그인과 동일하다.</p>\n<h2 id=\"전체-코드\">전체 코드 <a href=\"#전체-코드\">🔗</a></h2>\n\t\t\t\t<div class=\"block-code\">\n\t\t\t\t\t<div class=\"top\">\n\t\t\t\t\t\t<p>JAVA</p>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onclick=\"copyCode(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-icon=\"clipboard\" class=\"i-clipboard\"><path fill=\"currentColor\" d=\"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z\"></path></svg></button>\n\n\t\t\t\t\t<pre class=\"language-java\"><table><tbody><tr data-number=0><td class=\"line-number\" data-number=\"0\">0</td><td class=\"line-code\" data-number=0><span class=\"token keyword\">package</span> <span class=\"token namespace\">oauth<span class=\"token punctuation\">.</span>account<span class=\"token punctuation\">.</span>module</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=1><td class=\"line-number\" data-number=\"1\">1</td><td class=\"line-code\" data-number=1></td></tr>\n<tr data-number=2><td class=\"line-number\" data-number=\"2\">2</td><td class=\"line-code\" data-number=2><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>fasterxml<span class=\"token punctuation\">.</span>jackson<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">JsonProcessingException</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=3><td class=\"line-number\" data-number=\"3\">3</td><td class=\"line-code\" data-number=3><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>fasterxml<span class=\"token punctuation\">.</span>jackson<span class=\"token punctuation\">.</span>databind<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">JsonNode</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=4><td class=\"line-number\" data-number=\"4\">4</td><td class=\"line-code\" data-number=4><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>fasterxml<span class=\"token punctuation\">.</span>jackson<span class=\"token punctuation\">.</span>databind<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ObjectMapper</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=5><td class=\"line-number\" data-number=\"5\">5</td><td class=\"line-code\" data-number=5><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>github<span class=\"token punctuation\">.</span>scribejava<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>builder<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ServiceBuilder</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=6><td class=\"line-number\" data-number=\"6\">6</td><td class=\"line-code\" data-number=6><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>github<span class=\"token punctuation\">.</span>scribejava<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>builder<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ServiceBuilderOAuth20</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=7><td class=\"line-number\" data-number=\"7\">7</td><td class=\"line-code\" data-number=7><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>github<span class=\"token punctuation\">.</span>scribejava<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">OAuthRequest</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=8><td class=\"line-number\" data-number=\"8\">8</td><td class=\"line-code\" data-number=8><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>github<span class=\"token punctuation\">.</span>scribejava<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Response</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=9><td class=\"line-number\" data-number=\"9\">9</td><td class=\"line-code\" data-number=9><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>github<span class=\"token punctuation\">.</span>scribejava<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Verb</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=10><td class=\"line-number\" data-number=\"10\">10</td><td class=\"line-code\" data-number=10><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">oauth<span class=\"token punctuation\">.</span>account<span class=\"token punctuation\">.</span>bean<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ApiKeyBean</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=11><td class=\"line-number\" data-number=\"11\">11</td><td class=\"line-code\" data-number=11><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">oauth<span class=\"token punctuation\">.</span>account<span class=\"token punctuation\">.</span>bean<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserInfoBean</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=12><td class=\"line-number\" data-number=\"12\">12</td><td class=\"line-code\" data-number=12></td></tr>\n<tr data-number=13><td class=\"line-number\" data-number=\"13\">13</td><td class=\"line-code\" data-number=13><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IOException</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=14><td class=\"line-number\" data-number=\"14\">14</td><td class=\"line-code\" data-number=14><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HashMap</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=15><td class=\"line-number\" data-number=\"15\">15</td><td class=\"line-code\" data-number=15><span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>concurrent<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ExecutionException</span></span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=16><td class=\"line-number\" data-number=\"16\">16</td><td class=\"line-code\" data-number=16></td></tr>\n<tr data-number=17><td class=\"line-number\" data-number=\"17\">17</td><td class=\"line-code\" data-number=17><span class=\"token comment\" data-tag=\"new\">/**</span></td></tr>\n<tr data-number=18><td class=\"line-number\" data-number=\"18\">18</td><td class=\"line-code\" data-number=18><span class=\"token comment\" data-tag=\"new\"> * Naver 인증 모듈 클래스</span></td></tr>\n<tr data-number=19><td class=\"line-number\" data-number=\"19\">19</td><td class=\"line-code\" data-number=19><span class=\"token comment\" data-tag=\"new\"> *</span></td></tr>\n<tr data-number=20><td class=\"line-number\" data-number=\"20\">20</td><td class=\"line-code\" data-number=20><span class=\"token comment\" data-tag=\"new\"> * @author RWB</span></td></tr>\n<tr data-number=21><td class=\"line-number\" data-number=\"21\">21</td><td class=\"line-code\" data-number=21><span class=\"token comment\" data-tag=\"new\"> * @since 2021.09.29 Wed 23:45:49</span></td></tr>\n<tr data-number=22><td class=\"line-number\" data-number=\"22\">22</td><td class=\"line-code\" data-number=22><span class=\"token comment\" data-tag=\"new\"> */</span></td></tr>\n<tr data-number=23><td class=\"line-number\" data-number=\"23\">23</td><td class=\"line-code\" data-number=23><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NaverAuthModule</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AuthModule</span></td></tr>\n<tr data-number=24><td class=\"line-number\" data-number=\"24\">24</td><td class=\"line-code\" data-number=24><span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=25><td class=\"line-number\" data-number=\"25\">25</td><td class=\"line-code\" data-number=25>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> MODULE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"naver\"</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=26><td class=\"line-number\" data-number=\"26\">26</td><td class=\"line-code\" data-number=26>    </td></tr>\n<tr data-number=27><td class=\"line-number\" data-number=\"27\">27</td><td class=\"line-code\" data-number=27>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> API_KEY<span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=28><td class=\"line-number\" data-number=\"28\">28</td><td class=\"line-code\" data-number=28>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> SECRET_KEY<span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=29><td class=\"line-number\" data-number=\"29\">29</td><td class=\"line-code\" data-number=29>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> CALLBACK_URL<span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=30><td class=\"line-number\" data-number=\"30\">30</td><td class=\"line-code\" data-number=30>    </td></tr>\n<tr data-number=31><td class=\"line-number\" data-number=\"31\">31</td><td class=\"line-code\" data-number=31>    <span class=\"token keyword\">static</span></td></tr>\n<tr data-number=32><td class=\"line-number\" data-number=\"32\">32</td><td class=\"line-code\" data-number=32>    <span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=33><td class=\"line-number\" data-number=\"33\">33</td><td class=\"line-code\" data-number=33>        <span class=\"token class-name\">ApiKeyBean</span> apiKeyBean <span class=\"token operator\">=</span> <span class=\"token function\">getApiKeyBean</span><span class=\"token punctuation\">(</span>MODULE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=34><td class=\"line-number\" data-number=\"34\">34</td><td class=\"line-code\" data-number=34>        </td></tr>\n<tr data-number=35><td class=\"line-number\" data-number=\"35\">35</td><td class=\"line-code\" data-number=35>        API_KEY <span class=\"token operator\">=</span> apiKeyBean<span class=\"token punctuation\">.</span><span class=\"token function\">getApi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=36><td class=\"line-number\" data-number=\"36\">36</td><td class=\"line-code\" data-number=36>        SECRET_KEY <span class=\"token operator\">=</span> apiKeyBean<span class=\"token punctuation\">.</span><span class=\"token function\">getSecret</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=37><td class=\"line-number\" data-number=\"37\">37</td><td class=\"line-code\" data-number=37>        CALLBACK_URL <span class=\"token operator\">=</span> apiKeyBean<span class=\"token punctuation\">.</span><span class=\"token function\">getCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=38><td class=\"line-number\" data-number=\"38\">38</td><td class=\"line-code\" data-number=38>    <span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=39><td class=\"line-number\" data-number=\"39\">39</td><td class=\"line-code\" data-number=39>    </td></tr>\n<tr data-number=40><td class=\"line-number\" data-number=\"40\">40</td><td class=\"line-code\" data-number=40>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ServiceBuilderOAuth20</span> SERVICE_BUILDER <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ServiceBuilder</span><span class=\"token punctuation\">(</span>API_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">apiSecret</span><span class=\"token punctuation\">(</span>SECRET_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>CALLBACK_URL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=41><td class=\"line-number\" data-number=\"41\">41</td><td class=\"line-code\" data-number=41>    </td></tr>\n<tr data-number=42><td class=\"line-number\" data-number=\"42\">42</td><td class=\"line-code\" data-number=42>    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">NaverAuthModule</span> INSTANCE <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NaverAuthModule</span><span class=\"token punctuation\">(</span>SERVICE_BUILDER<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=43><td class=\"line-number\" data-number=\"43\">43</td><td class=\"line-code\" data-number=43>    </td></tr>\n<tr data-number=44><td class=\"line-number\" data-number=\"44\">44</td><td class=\"line-code\" data-number=44>    <span class=\"token comment\" data-tag=\"new\">/**</span></td></tr>\n<tr data-number=45><td class=\"line-number\" data-number=\"45\">45</td><td class=\"line-code\" data-number=45><span class=\"token comment\" data-tag=\"new\">     * 생성자 메서드</span></td></tr>\n<tr data-number=46><td class=\"line-number\" data-number=\"46\">46</td><td class=\"line-code\" data-number=46><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=47><td class=\"line-number\" data-number=\"47\">47</td><td class=\"line-code\" data-number=47><span class=\"token comment\" data-tag=\"new\">     * @param serviceBuilder: [ServiceBuilderOAuth20] API 서비스 빌더</span></td></tr>\n<tr data-number=48><td class=\"line-number\" data-number=\"48\">48</td><td class=\"line-code\" data-number=48><span class=\"token comment\" data-tag=\"new\">     */</span></td></tr>\n<tr data-number=49><td class=\"line-number\" data-number=\"49\">49</td><td class=\"line-code\" data-number=49>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">NaverAuthModule</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ServiceBuilderOAuth20</span> serviceBuilder<span class=\"token punctuation\">)</span></td></tr>\n<tr data-number=50><td class=\"line-number\" data-number=\"50\">50</td><td class=\"line-code\" data-number=50>    <span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=51><td class=\"line-number\" data-number=\"51\">51</td><td class=\"line-code\" data-number=51>        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>serviceBuilder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=52><td class=\"line-number\" data-number=\"52\">52</td><td class=\"line-code\" data-number=52>    <span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=53><td class=\"line-number\" data-number=\"53\">53</td><td class=\"line-code\" data-number=53>    </td></tr>\n<tr data-number=54><td class=\"line-number\" data-number=\"54\">54</td><td class=\"line-code\" data-number=54>    <span class=\"token comment\" data-tag=\"new\">/**</span></td></tr>\n<tr data-number=55><td class=\"line-number\" data-number=\"55\">55</td><td class=\"line-code\" data-number=55><span class=\"token comment\" data-tag=\"new\">     * 인스턴스 반환 메서드</span></td></tr>\n<tr data-number=56><td class=\"line-number\" data-number=\"56\">56</td><td class=\"line-code\" data-number=56><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=57><td class=\"line-number\" data-number=\"57\">57</td><td class=\"line-code\" data-number=57><span class=\"token comment\" data-tag=\"new\">     * @return [NaverAuthModule] 인스턴스</span></td></tr>\n<tr data-number=58><td class=\"line-number\" data-number=\"58\">58</td><td class=\"line-code\" data-number=58><span class=\"token comment\" data-tag=\"new\">     */</span></td></tr>\n<tr data-number=59><td class=\"line-number\" data-number=\"59\">59</td><td class=\"line-code\" data-number=59>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">NaverAuthModule</span> <span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></td></tr>\n<tr data-number=60><td class=\"line-number\" data-number=\"60\">60</td><td class=\"line-code\" data-number=60>    <span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=61><td class=\"line-number\" data-number=\"61\">61</td><td class=\"line-code\" data-number=61>        <span class=\"token keyword\">return</span> INSTANCE<span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=62><td class=\"line-number\" data-number=\"62\">62</td><td class=\"line-code\" data-number=62>    <span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=63><td class=\"line-number\" data-number=\"63\">63</td><td class=\"line-code\" data-number=63>    </td></tr>\n<tr data-number=64><td class=\"line-number\" data-number=\"64\">64</td><td class=\"line-code\" data-number=64>    <span class=\"token comment\" data-tag=\"new\">/**</span></td></tr>\n<tr data-number=65><td class=\"line-number\" data-number=\"65\">65</td><td class=\"line-code\" data-number=65><span class=\"token comment\" data-tag=\"new\">     * 유저 정보 객체 반환 메서드</span></td></tr>\n<tr data-number=66><td class=\"line-number\" data-number=\"66\">66</td><td class=\"line-code\" data-number=66><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=67><td class=\"line-number\" data-number=\"67\">67</td><td class=\"line-code\" data-number=67><span class=\"token comment\" data-tag=\"new\">     * @param body: [String] OAuth 응답 내용</span></td></tr>\n<tr data-number=68><td class=\"line-number\" data-number=\"68\">68</td><td class=\"line-code\" data-number=68><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=69><td class=\"line-number\" data-number=\"69\">69</td><td class=\"line-code\" data-number=69><span class=\"token comment\" data-tag=\"new\">     * @return [UserInfoBean] 유저 정보 객체</span></td></tr>\n<tr data-number=70><td class=\"line-number\" data-number=\"70\">70</td><td class=\"line-code\" data-number=70><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=71><td class=\"line-number\" data-number=\"71\">71</td><td class=\"line-code\" data-number=71><span class=\"token comment\" data-tag=\"new\">     * @throws JsonProcessingException JSON 파싱 예외</span></td></tr>\n<tr data-number=72><td class=\"line-number\" data-number=\"72\">72</td><td class=\"line-code\" data-number=72><span class=\"token comment\" data-tag=\"new\">     */</span></td></tr>\n<tr data-number=73><td class=\"line-number\" data-number=\"73\">73</td><td class=\"line-code\" data-number=73>    <span class=\"token annotation punctuation\">@Override</span></td></tr>\n<tr data-number=74><td class=\"line-number\" data-number=\"74\">74</td><td class=\"line-code\" data-number=74>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UserInfoBean</span> <span class=\"token function\">getUserInfoBean</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> body<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">JsonProcessingException</span></td></tr>\n<tr data-number=75><td class=\"line-number\" data-number=\"75\">75</td><td class=\"line-code\" data-number=75>    <span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=76><td class=\"line-number\" data-number=\"76\">76</td><td class=\"line-code\" data-number=76>        <span class=\"token class-name\">ObjectMapper</span> mapper <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ObjectMapper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=77><td class=\"line-number\" data-number=\"77\">77</td><td class=\"line-code\" data-number=77>        </td></tr>\n<tr data-number=78><td class=\"line-number\" data-number=\"78\">78</td><td class=\"line-code\" data-number=78>        <span class=\"token class-name\">JsonNode</span> node <span class=\"token operator\">=</span> mapper<span class=\"token punctuation\">.</span><span class=\"token function\">readTree</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=79><td class=\"line-number\" data-number=\"79\">79</td><td class=\"line-code\" data-number=79>        </td></tr>\n<tr data-number=80><td class=\"line-number\" data-number=\"80\">80</td><td class=\"line-code\" data-number=80>        <span class=\"token class-name\">String</span> email <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"미동의\"</span> <span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">textValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=81><td class=\"line-number\" data-number=\"81\">81</td><td class=\"line-code\" data-number=81>        <span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"미동의\"</span> <span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">textValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=82><td class=\"line-number\" data-number=\"82\">82</td><td class=\"line-code\" data-number=82>        <span class=\"token class-name\">String</span> profile_image <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"profile_image\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"/oauth2/assets/images/logo.png\"</span> <span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"profile_image\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">textValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=83><td class=\"line-number\" data-number=\"83\">83</td><td class=\"line-code\" data-number=83>        </td></tr>\n<tr data-number=84><td class=\"line-number\" data-number=\"84\">84</td><td class=\"line-code\" data-number=84>        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UserInfoBean</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> profile_image<span class=\"token punctuation\">,</span> MODULE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=85><td class=\"line-number\" data-number=\"85\">85</td><td class=\"line-code\" data-number=85>    <span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=86><td class=\"line-number\" data-number=\"86\">86</td><td class=\"line-code\" data-number=86>    </td></tr>\n<tr data-number=87><td class=\"line-number\" data-number=\"87\">87</td><td class=\"line-code\" data-number=87>    <span class=\"token comment\" data-tag=\"new\">/**</span></td></tr>\n<tr data-number=88><td class=\"line-number\" data-number=\"88\">88</td><td class=\"line-code\" data-number=88><span class=\"token comment\" data-tag=\"new\">     * 연동 해제 결과 반환 메서드</span></td></tr>\n<tr data-number=89><td class=\"line-number\" data-number=\"89\">89</td><td class=\"line-code\" data-number=89><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=90><td class=\"line-number\" data-number=\"90\">90</td><td class=\"line-code\" data-number=90><span class=\"token comment\" data-tag=\"new\">     * @param access: [String] 접근 토큰</span></td></tr>\n<tr data-number=91><td class=\"line-number\" data-number=\"91\">91</td><td class=\"line-code\" data-number=91><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=92><td class=\"line-number\" data-number=\"92\">92</td><td class=\"line-code\" data-number=92><span class=\"token comment\" data-tag=\"new\">     * @return [boolean] 연동 해제 결과</span></td></tr>\n<tr data-number=93><td class=\"line-number\" data-number=\"93\">93</td><td class=\"line-code\" data-number=93><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=94><td class=\"line-number\" data-number=\"94\">94</td><td class=\"line-code\" data-number=94><span class=\"token comment\" data-tag=\"new\">     * @throws IOException 데이터 입출력 예외</span></td></tr>\n<tr data-number=95><td class=\"line-number\" data-number=\"95\">95</td><td class=\"line-code\" data-number=95><span class=\"token comment\" data-tag=\"new\">     * @throws ExecutionException 실행 예외</span></td></tr>\n<tr data-number=96><td class=\"line-number\" data-number=\"96\">96</td><td class=\"line-code\" data-number=96><span class=\"token comment\" data-tag=\"new\">     * @throws InterruptedException 인터럽트 예외</span></td></tr>\n<tr data-number=97><td class=\"line-number\" data-number=\"97\">97</td><td class=\"line-code\" data-number=97><span class=\"token comment\" data-tag=\"new\">     */</span></td></tr>\n<tr data-number=98><td class=\"line-number\" data-number=\"98\">98</td><td class=\"line-code\" data-number=98>    <span class=\"token annotation punctuation\">@Override</span></td></tr>\n<tr data-number=99><td class=\"line-number\" data-number=\"99\">99</td><td class=\"line-code\" data-number=99>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">deleteInfo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> access<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ExecutionException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InterruptedException</span></td></tr>\n<tr data-number=100><td class=\"line-number\" data-number=\"100\">100</td><td class=\"line-code\" data-number=100>    <span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=101><td class=\"line-number\" data-number=\"101\">101</td><td class=\"line-code\" data-number=101>        <span class=\"token class-name\">OAuthRequest</span> oAuthRequest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OAuthRequest</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Verb</span><span class=\"token punctuation\">.</span>GET<span class=\"token punctuation\">,</span> <span class=\"token function\">getAccessTokenEndpoint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=102><td class=\"line-number\" data-number=\"102\">102</td><td class=\"line-code\" data-number=102>        oAuthRequest<span class=\"token punctuation\">.</span><span class=\"token function\">addQuerystringParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"client_id\"</span><span class=\"token punctuation\">,</span> API_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=103><td class=\"line-number\" data-number=\"103\">103</td><td class=\"line-code\" data-number=103>        oAuthRequest<span class=\"token punctuation\">.</span><span class=\"token function\">addQuerystringParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"client_secret\"</span><span class=\"token punctuation\">,</span> SECRET_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=104><td class=\"line-number\" data-number=\"104\">104</td><td class=\"line-code\" data-number=104>        oAuthRequest<span class=\"token punctuation\">.</span><span class=\"token function\">addQuerystringParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"access_token\"</span><span class=\"token punctuation\">,</span> access<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=105><td class=\"line-number\" data-number=\"105\">105</td><td class=\"line-code\" data-number=105>        oAuthRequest<span class=\"token punctuation\">.</span><span class=\"token function\">addQuerystringParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"grant_type\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"delete\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=106><td class=\"line-number\" data-number=\"106\">106</td><td class=\"line-code\" data-number=106>        oAuthRequest<span class=\"token punctuation\">.</span><span class=\"token function\">addQuerystringParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"service_provider\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"NAVER\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=107><td class=\"line-number\" data-number=\"107\">107</td><td class=\"line-code\" data-number=107>        </td></tr>\n<tr data-number=108><td class=\"line-number\" data-number=\"108\">108</td><td class=\"line-code\" data-number=108>        service<span class=\"token punctuation\">.</span><span class=\"token function\">signRequest</span><span class=\"token punctuation\">(</span>access<span class=\"token punctuation\">,</span> oAuthRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=109><td class=\"line-number\" data-number=\"109\">109</td><td class=\"line-code\" data-number=109>        </td></tr>\n<tr data-number=110><td class=\"line-number\" data-number=\"110\">110</td><td class=\"line-code\" data-number=110>        <span class=\"token class-name\">Response</span> response <span class=\"token operator\">=</span> service<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span>oAuthRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=111><td class=\"line-number\" data-number=\"111\">111</td><td class=\"line-code\" data-number=111>        </td></tr>\n<tr data-number=112><td class=\"line-number\" data-number=\"112\">112</td><td class=\"line-code\" data-number=112>        <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">isSuccessful</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=113><td class=\"line-number\" data-number=\"113\">113</td><td class=\"line-code\" data-number=113>    <span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=114><td class=\"line-number\" data-number=\"114\">114</td><td class=\"line-code\" data-number=114>    </td></tr>\n<tr data-number=115><td class=\"line-number\" data-number=\"115\">115</td><td class=\"line-code\" data-number=115>    <span class=\"token comment\" data-tag=\"new\">/**</span></td></tr>\n<tr data-number=116><td class=\"line-number\" data-number=\"116\">116</td><td class=\"line-code\" data-number=116><span class=\"token comment\" data-tag=\"new\">     * 정보 제공 동의 갱신 URL 반환 메서드</span></td></tr>\n<tr data-number=117><td class=\"line-number\" data-number=\"117\">117</td><td class=\"line-code\" data-number=117><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=118><td class=\"line-number\" data-number=\"118\">118</td><td class=\"line-code\" data-number=118><span class=\"token comment\" data-tag=\"new\">     * @param state: [String] 고유 상태값</span></td></tr>\n<tr data-number=119><td class=\"line-number\" data-number=\"119\">119</td><td class=\"line-code\" data-number=119><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=120><td class=\"line-number\" data-number=\"120\">120</td><td class=\"line-code\" data-number=120><span class=\"token comment\" data-tag=\"new\">     * @return [String] 정보 제공 동의 갱신 URL</span></td></tr>\n<tr data-number=121><td class=\"line-number\" data-number=\"121\">121</td><td class=\"line-code\" data-number=121><span class=\"token comment\" data-tag=\"new\">     */</span></td></tr>\n<tr data-number=122><td class=\"line-number\" data-number=\"122\">122</td><td class=\"line-code\" data-number=122>    <span class=\"token annotation punctuation\">@Override</span></td></tr>\n<tr data-number=123><td class=\"line-number\" data-number=\"123\">123</td><td class=\"line-code\" data-number=123>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getUpdateAuthorizationUrl</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> state<span class=\"token punctuation\">)</span></td></tr>\n<tr data-number=124><td class=\"line-number\" data-number=\"124\">124</td><td class=\"line-code\" data-number=124>    <span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=125><td class=\"line-number\" data-number=\"125\">125</td><td class=\"line-code\" data-number=125>        <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> params <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=126><td class=\"line-number\" data-number=\"126\">126</td><td class=\"line-code\" data-number=126>        params<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"state\"</span><span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=127><td class=\"line-number\" data-number=\"127\">127</td><td class=\"line-code\" data-number=127>        params<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"auth_type\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"reprompt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=128><td class=\"line-number\" data-number=\"128\">128</td><td class=\"line-code\" data-number=128>        </td></tr>\n<tr data-number=129><td class=\"line-number\" data-number=\"129\">129</td><td class=\"line-code\" data-number=129>        <span class=\"token keyword\">return</span> service<span class=\"token punctuation\">.</span><span class=\"token function\">getAuthorizationUrl</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=130><td class=\"line-number\" data-number=\"130\">130</td><td class=\"line-code\" data-number=130>    <span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=131><td class=\"line-number\" data-number=\"131\">131</td><td class=\"line-code\" data-number=131>    </td></tr>\n<tr data-number=132><td class=\"line-number\" data-number=\"132\">132</td><td class=\"line-code\" data-number=132>    <span class=\"token comment\" data-tag=\"new\">/**</span></td></tr>\n<tr data-number=133><td class=\"line-number\" data-number=\"133\">133</td><td class=\"line-code\" data-number=133><span class=\"token comment\" data-tag=\"new\">     * 접근 토큰 요청 URL 반환 메서드</span></td></tr>\n<tr data-number=134><td class=\"line-number\" data-number=\"134\">134</td><td class=\"line-code\" data-number=134><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=135><td class=\"line-number\" data-number=\"135\">135</td><td class=\"line-code\" data-number=135><span class=\"token comment\" data-tag=\"new\">     * @return [String] 접근 토큰 요청 URL</span></td></tr>\n<tr data-number=136><td class=\"line-number\" data-number=\"136\">136</td><td class=\"line-code\" data-number=136><span class=\"token comment\" data-tag=\"new\">     */</span></td></tr>\n<tr data-number=137><td class=\"line-number\" data-number=\"137\">137</td><td class=\"line-code\" data-number=137>    <span class=\"token annotation punctuation\">@Override</span></td></tr>\n<tr data-number=138><td class=\"line-number\" data-number=\"138\">138</td><td class=\"line-code\" data-number=138>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getAccessTokenEndpoint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></td></tr>\n<tr data-number=139><td class=\"line-number\" data-number=\"139\">139</td><td class=\"line-code\" data-number=139>    <span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=140><td class=\"line-number\" data-number=\"140\">140</td><td class=\"line-code\" data-number=140>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"https://nid.naver.com/oauth2.0/token\"</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=141><td class=\"line-number\" data-number=\"141\">141</td><td class=\"line-code\" data-number=141>    <span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=142><td class=\"line-number\" data-number=\"142\">142</td><td class=\"line-code\" data-number=142>    </td></tr>\n<tr data-number=143><td class=\"line-number\" data-number=\"143\">143</td><td class=\"line-code\" data-number=143>    <span class=\"token comment\" data-tag=\"new\">/**</span></td></tr>\n<tr data-number=144><td class=\"line-number\" data-number=\"144\">144</td><td class=\"line-code\" data-number=144><span class=\"token comment\" data-tag=\"new\">     * 인증 API 요청 URL 반환 메서드</span></td></tr>\n<tr data-number=145><td class=\"line-number\" data-number=\"145\">145</td><td class=\"line-code\" data-number=145><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=146><td class=\"line-number\" data-number=\"146\">146</td><td class=\"line-code\" data-number=146><span class=\"token comment\" data-tag=\"new\">     * @return [String] 인증 API 요청 URL</span></td></tr>\n<tr data-number=147><td class=\"line-number\" data-number=\"147\">147</td><td class=\"line-code\" data-number=147><span class=\"token comment\" data-tag=\"new\">     */</span></td></tr>\n<tr data-number=148><td class=\"line-number\" data-number=\"148\">148</td><td class=\"line-code\" data-number=148>    <span class=\"token annotation punctuation\">@Override</span></td></tr>\n<tr data-number=149><td class=\"line-number\" data-number=\"149\">149</td><td class=\"line-code\" data-number=149>    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getAuthorizationBaseUrl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></td></tr>\n<tr data-number=150><td class=\"line-number\" data-number=\"150\">150</td><td class=\"line-code\" data-number=150>    <span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=151><td class=\"line-number\" data-number=\"151\">151</td><td class=\"line-code\" data-number=151>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"https://nid.naver.com/oauth2.0/authorize\"</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=152><td class=\"line-number\" data-number=\"152\">152</td><td class=\"line-code\" data-number=152>    <span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=153><td class=\"line-number\" data-number=\"153\">153</td><td class=\"line-code\" data-number=153>    </td></tr>\n<tr data-number=154><td class=\"line-number\" data-number=\"154\">154</td><td class=\"line-code\" data-number=154>    <span class=\"token comment\" data-tag=\"new\">/**</span></td></tr>\n<tr data-number=155><td class=\"line-number\" data-number=\"155\">155</td><td class=\"line-code\" data-number=155><span class=\"token comment\" data-tag=\"new\">     * 사용자 정보 요청 URL 반환 메서드</span></td></tr>\n<tr data-number=156><td class=\"line-number\" data-number=\"156\">156</td><td class=\"line-code\" data-number=156><span class=\"token comment\" data-tag=\"new\">     *</span></td></tr>\n<tr data-number=157><td class=\"line-number\" data-number=\"157\">157</td><td class=\"line-code\" data-number=157><span class=\"token comment\" data-tag=\"new\">     * @return [String] 사용자 정보 요청 URL</span></td></tr>\n<tr data-number=158><td class=\"line-number\" data-number=\"158\">158</td><td class=\"line-code\" data-number=158><span class=\"token comment\" data-tag=\"new\">     */</span></td></tr>\n<tr data-number=159><td class=\"line-number\" data-number=\"159\">159</td><td class=\"line-code\" data-number=159>    <span class=\"token annotation punctuation\">@Override</span></td></tr>\n<tr data-number=160><td class=\"line-number\" data-number=\"160\">160</td><td class=\"line-code\" data-number=160>    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getUserInfoEndPoint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></td></tr>\n<tr data-number=161><td class=\"line-number\" data-number=\"161\">161</td><td class=\"line-code\" data-number=161>    <span class=\"token punctuation\">{</span></td></tr>\n<tr data-number=162><td class=\"line-number\" data-number=\"162\">162</td><td class=\"line-code\" data-number=162>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"https://openapi.naver.com/v1/nid/me\"</span><span class=\"token punctuation\">;</span></td></tr>\n<tr data-number=163><td class=\"line-number\" data-number=\"163\">163</td><td class=\"line-code\" data-number=163>    <span class=\"token punctuation\">}</span></td></tr>\n<tr data-number=164><td class=\"line-number\" data-number=\"164\">164</td><td class=\"line-code\" data-number=164><span class=\"token punctuation\">}</span></td></tr></tbody></table></pre>\n\t\t\t\t</div>\n\t\t\t<p>정리한 전체 코드는 위와 같다.</p>\n<h1 id=\"정리\">정리 <a href=\"#정리\">🔗</a></h1><p>이로써 네이버 인증 모듈 구현이 완료됐다. 현재까지는 개발 중 단계라 정해진 아이디로만 사용할 수 있다. API 설정에서 테스트 계정을 등록해야 해당 계정으로 로그인 테스트가 가능하다. 심사 이후 애플리케이션이 승인되면 모든 아이디에서 로그인이 가능하다.</p>\n","meta":{"group":[{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 12. 마치며","excerpt":"그 동안 만들어 놓은건 많은데, 정작 정리같은 건 해두지 않았었다. GitHub를 활용하지 않기도 했고, 블로그도 딱히 운영하지 않고 있었으니.. 개인 서버도 샀겠다. 나름의 개발 포트폴리오를 위해 시험삼아 만든 프로젝트다. 개발부터 정리까지 차근차근 작성한 프로젝트는 이게 처음이 아닌가 싶다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-25T22:41:21","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-25-oauth2-java-server-12.md","url":["2021-10-25-oauth2-java-server-12","2021","10","25","oauth2-java-server-12"]},{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 11. OAuth 서비스 심사 신청하기","excerpt":"OAuth 서비스를 등록하고 인증 서버까지 별도로 구축했지만, 이렇게 했다고 해서 그 즉시 사용 가능한 것은 아니다. 이 장에서는 OAuth 서비스 심사를 신청하여 OAuth 서비스를 온전히 사용할 수 있도록 한다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-25T22:41:21","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-25-oauth2-java-server-11.md","url":["2021-10-25-oauth2-java-server-11","2021","10","25","oauth2-java-server-11"]},{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 10. 컨트롤러 구현하기","excerpt":"Jersey 라이브러리를 통해 요청을 받아 응답을 반환하는 컨트롤러를 구성해보자. Jersey에 대해 자세히 알아보고 싶다면 이전 글을 참고하자.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-25T02:24:17","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0","Jersey"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-25-oauth2-java-server-10.md","url":["2021-10-25-oauth2-java-server-10","2021","10","25","oauth2-java-server-10"]},{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 9. Jersey로 RESTful API 서비스 제공하기","excerpt":"이 장에서는 Jersey를 활용하여 RESTful API 서비스를 제공하는 방법에 대해 다룬다. 이 프로젝트는 Jersey를 통해 요청을 받아 응답하므로, 컨트롤러를 구성하기 이전에 Jersey에 대해 잠깐 다루고 넘어간다. 통상 JAVA 서버를 구축하는데 Spring 프레임워크를 많이 사용할 것이다. 그럼에도 굳이 Jersey를 선택하는 이유는 일단 내가 Spring을 잘 모른다. 그것도 그거지만, Spring에 비해 규모가 작고 설정이 간단해서 온전히 RESTful 서버를 구축하는데 집중할 수 있다. Spring 설정의 악랄함은 고사하고, 이 프로젝트의 특성 상 복잡한 로직이나 다채로운 기능을 요구하지 않는다. Spring의 방대한 규모를 온전히 쓰지 못 하므로 배보다 배꼽이 더 크다는 뜻이다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-25T00:12:58","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0","Jersey"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-25-oauth2-java-server-9.md","url":["2021-10-25-oauth2-java-server-9","2021","10","25","oauth2-java-server-9"]},{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 8. 프로세스 구현하기","excerpt":"4장부터 7장까지 진행하며 각 플랫폼의 인증 모듈을 구현했다. 이 장에서는 모듈을 사용하는 주체인 프로세스를 구현한다. 프로세스는 HTTP 메소드에 따라 구분하여 관리한다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-24T23:58:10","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0"],"group":"OAuth2.0 인증서버 구축기","comment":"trueㄴ","publish":true},"name":"2021-10-24-oauth2-java-server-8.md","url":["2021-10-24-oauth2-java-server-8","2021","10","24","oauth2-java-server-8"]},{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 7. GitHub OAuth 서비스 신청 및 모듈 구현하기","excerpt":"마지막 플랫폼으로, GitHub에 OAuth 서비스를 신청하고 인증 모듈을 구현한다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-23T05:08:46","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0","scribeJAVA"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-23-oauth2-java-server-7.md","url":["2021-10-23-oauth2-java-server-7","2021","10","23","oauth2-java-server-7"]},{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 6. KAKAO OAuth 서비스 신청 및 모듈 구현하기","excerpt":"세 번째 플랫폼으로, KAKAO에 OAuth 서비스를 신청하고 인증 모듈을 구현한다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-23T03:51:04","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0","scribeJAVA"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-23-oauth2-java-server-6.md","url":["2021-10-23-oauth2-java-server-6","2021","10","23","oauth2-java-server-6"]},{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 5. Google OAuth 서비스 신청 및 모듈 구현하기","excerpt":"두 번째 플랫폼으로, Google에 OAuth 서비스를 신청하고 인증 모듈을 구현한다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-23T01:51:53","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0","scribeJAVA"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-23-oauth2-java-server-5.md","url":["2021-10-23-oauth2-java-server-5","2021","10","23","oauth2-java-server-5"]},{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 4. NAVER OAuth 서비스 신청 및 모듈 구현하기","excerpt":"첫 번째 플랫폼으로, NAVER에 OAuth 서비스를 신청하고 인증 모듈을 구현한다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-22T22:25:16","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0","scribeJAVA"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-22-oauth2-java-server-4.md","url":["2021-10-22-oauth2-java-server-4","2021","10","22","oauth2-java-server-4"]},{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 3. scribeJAVA로 OAuth2.0 인증 모듈 구현하기","excerpt":"OAuth 라이브러리인 scribeJAVA를 통해 인증 모듈을 구현해보자.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-20T01:26:40","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0","Jersey"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-20-oauth2-java-server-3.md","url":["2021-10-20-oauth2-java-server-3","2021","10","20","oauth2-java-server-3"]},{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 2. 인증서버 설계하기","excerpt":"OAuth2.0 프로토콜에 대한 사전 지식도 얻었으니, 이를 통해 인증서버를 직접 구축해보자. Frontend, Backend 부분으로 나누어 웹 페이지를 통해 소셜 로그인을 수행하고, 직접 구현한 인증서버에서 이를 처리하는 시스템 일체를 구축하는 것이 궁극적인 목표다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-14T22:12:25","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-14-oauth2-java-server-2.md","url":["2021-10-14-oauth2-java-server-2","2021","10","14","oauth2-java-server-2"]},{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 1. OAuth2.0이란?","excerpt":"사이트를 돌아다니다보면 로그인이 필요한 사이트를 심심치않게 만나볼 수 있다. 그리고 이런 사이트들은 대부분 \"네이버로 로그인하기\"와 같은 플랫폼 로그인을 제공한다. 사이트 뿐만 아니라 근래 들어 출시되는 앱 역시 대부분 플랫폼을 통한 인증 서비스를 제공한다. 이를 활용하면 매우 간단한 절차를 통해 회원가입 또는 로그인을 수행할 수 있게 된다. 이러한 서비스는 네이버 뿐만 아니라 Google, 카카오 등 어느정도 규모있는 플랫폼의 대부분은 이러한 \"플랫폼으로 로그인하기\"와 같은 기능을 제공한다. 이렇게 플랫폼의 정보를 활용하여 타 사이트에서 인증을 수행하는 것을 OAuth 프로토콜이라 한다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-14T00:56:31","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-14-oauth2-java-server-1.md","url":["2021-10-14-oauth2-java-server-1","2021","10","14","oauth2-java-server-1"]}],"next":{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 3. scribeJAVA로 OAuth2.0 인증 모듈 구현하기","excerpt":"OAuth 라이브러리인 scribeJAVA를 통해 인증 모듈을 구현해보자.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-20T01:26:40","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0","Jersey"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-20-oauth2-java-server-3.md","url":["2021-10-20-oauth2-java-server-3","2021","10","20","oauth2-java-server-3"]},"prev":{"header":{"title":"[OAuth2.0] ScribeJAVA로 OAuth2.0 인증서버 구축하기 - 5. Google OAuth 서비스 신청 및 모듈 구현하기","excerpt":"두 번째 플랫폼으로, Google에 OAuth 서비스를 신청하고 인증 모듈을 구현한다.","coverImage":"https://user-images.githubusercontent.com/50317129/137171016-99af1db1-a346-4def-9329-6072b927bdc0.png","date":"2021-10-23T01:51:53","type":"posts","category":"JAVA","tag":["JAVA","OAuth2.0","scribeJAVA"],"group":"OAuth2.0 인증서버 구축기","comment":true,"publish":true},"name":"2021-10-23-oauth2-java-server-5.md","url":["2021-10-23-oauth2-java-server-5","2021","10","23","oauth2-java-server-5"]}}},"__N_SSG":true}