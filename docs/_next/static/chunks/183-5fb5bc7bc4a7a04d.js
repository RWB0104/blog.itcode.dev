(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{14183:(e,t,r)=>{Promise.resolve().then(r.bind(r,80697)),Promise.resolve().then(r.bind(r,87333)),Promise.resolve().then(r.bind(r,70070))},38723:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var o=r(58007),n=r(29855),a=r(68391),l=r(66475),s=r(84413);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:d=!1,...c}=e,u=d?a.DX:"button";return(0,o.jsx)(u,{className:(0,s.cn)(i({variant:n,size:l,className:r})),ref:t,...c})});d.displayName="Button";let c=d},87333:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L});var o=r(58007),n=r(2923),a=r(29855),l=r(77959),s=r(1911),i=r(24720),d=r(87099),c=r(38723),u=r(90136),m=r(68391),f=r(84413),g=r(57689);let p=(0,r(66475).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)(g.b,{ref:t,className:(0,f.cn)(p(),r),...n})});x.displayName=g.b.displayName;let h=u.Op,v=a.createContext({}),w=()=>{let e=a.useContext(v),t=a.useContext(b),{getFieldState:r,formState:o}=(0,u.xW)(),n=r(e.name,o);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},b=a.createContext({}),y=a.forwardRef((e,t)=>{let{className:r,...n}=e,l=a.useId();return(0,o.jsx)(b.Provider,{value:{id:l},children:(0,o.jsx)("div",{ref:t,className:(0,f.cn)("space-y-2",r),...n})})});y.displayName="FormItem",a.forwardRef((e,t)=>{let{className:r,...n}=e,{error:a,formItemId:l}=w();return(0,o.jsx)(x,{ref:t,className:(0,f.cn)(a&&"text-destructive",r),htmlFor:l,...n})}).displayName="FormLabel";let j=a.forwardRef((e,t)=>{let{...r}=e,{error:n,formItemId:a,formDescriptionId:l,formMessageId:s}=w();return(0,o.jsx)(m.DX,{ref:t,id:a,"aria-describedby":n?"".concat(l," ").concat(s):"".concat(l),"aria-invalid":!!n,...r})});j.displayName="FormControl";let N=a.forwardRef((e,t)=>{let{className:r,...n}=e,{formDescriptionId:a}=w();return(0,o.jsx)("p",{ref:t,id:a,className:(0,f.cn)("text-[0.8rem] text-muted-foreground",r),...n})});N.displayName="FormDescription",a.forwardRef((e,t)=>{var r;let{className:n,children:a,...l}=e,{error:s,formMessageId:i}=w(),d=s?String(null!==(r=null==s?void 0:s.message)&&void 0!==r?r:""):a;return d?(0,o.jsx)("p",{ref:t,id:i,className:(0,f.cn)("text-[0.8rem] font-medium text-destructive",n),...l,children:d}):null}).displayName="FormMessage";let S={Control:j,Description:N,Field:e=>{let{...t}=e;return(0,o.jsx)(v.Provider,{value:{name:t.name},children:(0,o.jsx)(u.xI,{...t})})},Item:y,Root:h},C=a.forwardRef((e,t)=>{let{className:r,type:n,...a}=e;return(0,o.jsx)("input",{type:n,className:(0,f.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});C.displayName="Input";let k=function(e){let{defaultValue:t="",onChange:r,onSubmit:a,...l}=e,s=(0,n.useRouter)(),i=(0,u.mN)({defaultValues:{keyword:t},mode:"onChange"}),d=(e,t)=>{null==a||a(e,t);let r=new URLSearchParams(window.location.search);r.delete("page"),void 0!==e.keyword&&e.keyword.length>1?(r.delete("page"),r.delete("category"),r.set("keyword",e.keyword)):r.delete("keyword"),s.replace("".concat(window.location.pathname,"?").concat(r.toString()),{scroll:!1})},c=async e=>{null==r||r(e),await i.handleSubmit(d)(e)};return(0,o.jsx)(S.Root,{...i,children:(0,o.jsx)("form",{"data-component":"ContentForm",onChange:c,onSubmit:i.handleSubmit(d),...l,children:(0,o.jsx)(S.Field,{control:i.control,name:"keyword",render:e=>{let{field:t}=e;return(0,o.jsxs)(S.Item,{children:[(0,o.jsx)(S.Control,{children:(0,o.jsx)(C,{placeholder:"⌨️ 키워드를 입력해보세요.",...t})}),(0,o.jsx)(S.Description,{children:"제목이나 요약, 태그를 검색할 수 있습니다."})]})}})})})};var I=r(26268);let R=function(e){let{disabled:t,onEnd:r,children:n,...l}=e,[s,i]=(0,a.useState)(null);return(0,I.BL)(s,e=>{e.isIntersecting&&(null==r||r())},{rootMargin:"0px 0px 100px 0px"}),(0,o.jsxs)("div",{"data-component":"InfiniteScroll",...l,children:[n,void 0!==n&&!0!==t?(0,o.jsx)("div",{className:"w-full",ref:i}):null]})};var F=r(99200);let P=(0,a.memo)(function(e){let{categories:t,selected:r=[]}=e,a=(0,n.useRouter)(),u=e=>{let{currentTarget:o}=e,n="category",{value:l}=o,s=new URLSearchParams(window.location.search);s.delete("page"),s.getAll(n).includes(l)?s.delete(n,l):Object.keys(t).length===r.length+1?s.delete(n):s.append(n,l),a.replace("?".concat(s.toString()),{scroll:!1})};return(0,o.jsxs)("div",{className:"flex flex-col gap-4 bg-secondary p-4 rounded","data-component":"ContentCategory",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(l.A,{size:18}),(0,o.jsx)(i.A,{className:"font-bold",children:"카테고리"})]}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,o.jsxs)(c.A,{variant:"outline",onClick:()=>{let e=new URLSearchParams(window.location.search);e.delete("page"),e.delete("category"),a.replace("?".concat(e.toString()),{scroll:!1})},children:[(0,o.jsx)(s.A,{}),"전체"]}),Object.entries(t).map(e=>{let[t,n]=e;return(0,o.jsxs)(c.A,{value:t,variant:r.includes(t)?"default":"outline",onClick:u,children:[(0,o.jsx)(d.A,{alt:t,className:"rounded-full object-cover",height:20,src:"https://datastore.itcode.dev/blog/category/".concat(t,".png"),width:20}),(0,o.jsx)("span",{children:t}),(0,o.jsx)("span",{className:"text-muted-foreground",children:n})]},t)})]})]})}),A=(0,a.memo)(function(e){let{list:t,page:r=1,pageSize:l=6,loading:s,...i}=e,d=(0,n.useRouter)(),c=()=>{let e=new URLSearchParams(window.location.search);sessionStorage.setItem("referer","".concat(location.pathname,"?").concat(e.toString())),sessionStorage.setItem("scroll","".concat(window.scrollY))},u=null==t?void 0:t.map(e=>{let{meta:t,url:r}=e;return{category:t.category,description:t.excerpt,href:r,onClick:c,tags:t.tag,thumbnail:t.coverImage,timestamp:t.date,title:t.title,type:t.type}}),m=null==u?void 0:u.slice(0,r*l),f=(null!=m?m:[]).length>=(null!=u?u:[]).length;return(0,a.useEffect)(()=>{let e=sessionStorage.getItem("scroll");null!==e&&(window.scrollTo({top:Number(e)}),sessionStorage.removeItem("scroll")),sessionStorage.removeItem("referer")},[]),(0,o.jsx)(R,{"data-component":"ContentInfiniteGrid",disabled:f,onEnd:()=>{let e=new URLSearchParams(window.location.search);e.set("page","".concat(r+1)),d.replace("?".concat(e.toString()),{scroll:!1})},...i,children:(0,o.jsx)(F.A,{list:m,loading:s})})});function L(e){var t,r;let{list:l}=e,s=(0,n.useSearchParams)(),i=Number.parseInt(null!==(t=s.get("page"))&&void 0!==t?t:"1",10),d=s.getAll("category"),c=null!==(r=s.get("keyword"))&&void 0!==r?r:void 0,u=(0,a.useCallback)(e=>null==l?void 0:l.filter(t=>{let{meta:r,summary:o}=t,n=r.publish;return!0!==e&&d.length>0&&(n=n&&d.includes(r.category)),void 0!==c&&(n=n&&o.toLowerCase().includes(c.toLowerCase())),n}),[l,d,c]),m=(0,a.useMemo)(()=>{var e;return null===(e=u(!0))||void 0===e?void 0:e.reduce((e,t)=>{var r;let o=null!==(r=e[t.meta.category])&&void 0!==r?r:0;return e[t.meta.category]=o+1,e},{})},[u]);return(0,o.jsxs)("div",{className:"flex w-full flex-col gap-10","data-component":"ContentBox",children:[(0,o.jsx)(k,{defaultValue:c}),m&&(0,o.jsx)(P,{categories:m,selected:d}),(0,o.jsx)(A,{list:u(),page:i,pageSize:6})]})}}}]);