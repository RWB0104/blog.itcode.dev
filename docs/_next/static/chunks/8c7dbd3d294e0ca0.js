(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{43659:t=>{"use strict";t.s({useQuery:()=>ts},43659);var e,s,i,a,r,n,l,h,o,u,c,d,_,p,f,v,b,w,y,g,m,R,O,S,k=t.i(32859),C=t.i(26050),E=t.i(7618),M=t.i(38193),W=t.i(26350),T=t.i(38658),U=t.i(31026),x=t.i(25590),Q=t.i(92200),q=t.i(67501),I=t.i(63031),D=(e=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakMap,r=new WeakMap,n=new WeakMap,l=new WeakMap,h=new WeakMap,o=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,_=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakSet,b=new WeakSet,w=new WeakSet,y=new WeakSet,g=new WeakSet,m=new WeakSet,R=new WeakSet,O=new WeakSet,S=new WeakSet,class extends Q.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,k._)(this,s).addObserver(this),F((0,k._)(this,s),this.options)?(0,M._)(this,v,A).call(this):this.updateResult(),(0,M._)(this,g,K).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return j((0,k._)(this,s),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return j((0,k._)(this,s),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,M._)(this,m,V).call(this),(0,M._)(this,R,G).call(this),(0,k._)(this,s).removeObserver(this)}setOptions(t,i){let a=this.options,r=(0,k._)(this,s);if(this.options=(0,k._)(this,e).defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,I.resolveEnabled)(this.options.enabled,(0,k._)(this,s)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,M._)(this,O,J).call(this),(0,k._)(this,s).setOptions(this.options),a._defaulted&&!(0,I.shallowEqualObjects)(this.options,a)&&(0,k._)(this,e).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,k._)(this,s),observer:this});let n=this.hasListeners();n&&P((0,k._)(this,s),r,this.options,a)&&(0,M._)(this,v,A).call(this),this.updateResult(i),n&&((0,k._)(this,s)!==r||(0,I.resolveEnabled)(this.options.enabled,(0,k._)(this,s))!==(0,I.resolveEnabled)(a.enabled,(0,k._)(this,s))||(0,I.resolveStaleTime)(this.options.staleTime,(0,k._)(this,s))!==(0,I.resolveStaleTime)(a.staleTime,(0,k._)(this,s)))&&(0,M._)(this,b,H).call(this);let l=(0,M._)(this,w,B).call(this);n&&((0,k._)(this,s)!==r||(0,I.resolveEnabled)(this.options.enabled,(0,k._)(this,s))!==(0,I.resolveEnabled)(a.enabled,(0,k._)(this,s))||l!==(0,k._)(this,p))&&(0,M._)(this,y,z).call(this,l)}getOptimisticResult(t){var i,l;let h=(0,k._)(this,e).getQueryCache().build((0,k._)(this,e),t),o=this.createResult(h,t);return i=this,l=o,(0,I.shallowEqualObjects)(i.getCurrentResult(),l)||((0,E._)(this,a,o),(0,E._)(this,n,this.options),(0,E._)(this,r,(0,k._)(this,s).state)),o}getCurrentResult(){return(0,k._)(this,a)}trackResult(t,e){let s={};return Object.keys(t).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),null==e||e(i),t[i])})}),s}trackProp(t){(0,k._)(this,f).add(t)}getCurrentQuery(){return(0,k._)(this,s)}refetch(){let{...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...t})}fetchOptimistic(t){let s=(0,k._)(this,e).defaultQueryOptions(t),i=(0,k._)(this,e).getQueryCache().build((0,k._)(this,e),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(t){var e;return(0,M._)(this,v,A).call(this,{...t,cancelRefetch:null==(e=t.cancelRefetch)||e}).then(()=>(this.updateResult(),(0,k._)(this,a)))}createResult(t,e){let d,_=(0,k._)(this,s),p=this.options,f=(0,k._)(this,a),v=(0,k._)(this,r),b=(0,k._)(this,n),w=t!==_?t.state:(0,k._)(this,i),{state:y}=t,g={...y},m=!1;if(e._optimisticResults){let s=this.hasListeners(),i=!s&&F(t,e),a=s&&P(t,_,e,p);(i||a)&&(g={...g,...(0,x.fetchState)(y.data,t.options)}),"isRestoring"===e._optimisticResults&&(g.fetchStatus="idle")}let{error:R,errorUpdatedAt:O,status:S}=g;if(e.select&&void 0!==g.data)if(f&&g.data===(null==v?void 0:v.data)&&e.select===(0,k._)(this,o))d=(0,k._)(this,u);else try{(0,E._)(this,o,e.select),d=e.select(g.data),d=(0,I.replaceData)(null==f?void 0:f.data,d,e),(0,E._)(this,u,d),(0,E._)(this,h,null)}catch(t){(0,E._)(this,h,t)}else d=g.data;if(void 0!==e.placeholderData&&void 0===d&&"pending"===S){let t;if((null==f?void 0:f.isPlaceholderData)&&e.placeholderData===(null==b?void 0:b.placeholderData))t=f.data;else{var C;if(t="function"==typeof e.placeholderData?e.placeholderData(null==(C=(0,k._)(this,c))?void 0:C.state.data,(0,k._)(this,c)):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),(0,E._)(this,h,null)}catch(t){(0,E._)(this,h,t)}}void 0!==t&&(S="success",d=(0,I.replaceData)(null==f?void 0:f.data,t,e),m=!0)}(0,k._)(this,h)&&(R=(0,k._)(this,h),d=(0,k._)(this,u),O=Date.now(),S="error");let M="fetching"===g.fetchStatus,W="pending"===S,T="error"===S,U=W&&M,Q=void 0!==d,D={status:S,fetchStatus:g.fetchStatus,isPending:W,isSuccess:"success"===S,isError:T,isInitialLoading:U,isLoading:U,data:d,dataUpdatedAt:g.dataUpdatedAt,error:R,errorUpdatedAt:O,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>w.dataUpdateCount||g.errorUpdateCount>w.errorUpdateCount,isFetching:M,isRefetching:M&&!W,isLoadingError:T&&!Q,isPaused:"paused"===g.fetchStatus,isPlaceholderData:m,isRefetchError:T&&Q,isStale:L(t,e),refetch:this.refetch,promise:(0,k._)(this,l)};if(this.options.experimental_prefetchInRender){let e=t=>{"error"===D.status?t.reject(D.error):void 0!==D.data&&t.resolve(D.data)},s=()=>{e((0,E._)(this,l,D.promise=(0,q.pendingThenable)()))},i=(0,k._)(this,l);switch(i.status){case"pending":t.queryHash===_.queryHash&&e(i);break;case"fulfilled":("error"===D.status||D.data!==i.value)&&s();break;case"rejected":("error"!==D.status||D.error!==i.reason)&&s()}}return D}updateResult(t){let e=(0,k._)(this,a),i=this.createResult((0,k._)(this,s),this.options);if((0,E._)(this,r,(0,k._)(this,s).state),(0,E._)(this,n,this.options),void 0!==(0,k._)(this,r).data&&(0,E._)(this,c,(0,k._)(this,s)),(0,I.shallowEqualObjects)(i,e))return;(0,E._)(this,a,i);let l={},h=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,k._)(this,f).size)return!0;let i=new Set(null!=s?s:(0,k._)(this,f));return this.options.throwOnError&&i.add("error"),Object.keys((0,k._)(this,a)).some(t=>(0,k._)(this,a)[t]!==e[t]&&i.has(t))};(null==t?void 0:t.listeners)!==!1&&h()&&(l.listeners=!0),(0,M._)(this,S,N).call(this,{...l,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,M._)(this,g,K).call(this)}constructor(t,M){super(),(0,W._)(this,v),(0,W._)(this,b),(0,W._)(this,w),(0,W._)(this,y),(0,W._)(this,g),(0,W._)(this,m),(0,W._)(this,R),(0,W._)(this,O),(0,W._)(this,S),(0,C._)(this,e,{writable:!0,value:void 0}),(0,C._)(this,s,{writable:!0,value:void 0}),(0,C._)(this,i,{writable:!0,value:void 0}),(0,C._)(this,a,{writable:!0,value:void 0}),(0,C._)(this,r,{writable:!0,value:void 0}),(0,C._)(this,n,{writable:!0,value:void 0}),(0,C._)(this,l,{writable:!0,value:void 0}),(0,C._)(this,h,{writable:!0,value:void 0}),(0,C._)(this,o,{writable:!0,value:void 0}),(0,C._)(this,u,{writable:!0,value:void 0}),(0,C._)(this,c,{writable:!0,value:void 0}),(0,C._)(this,d,{writable:!0,value:void 0}),(0,C._)(this,_,{writable:!0,value:void 0}),(0,C._)(this,p,{writable:!0,value:void 0}),(0,C._)(this,f,{writable:!0,value:new Set}),this.options=M,(0,E._)(this,e,t),(0,E._)(this,h,null),(0,E._)(this,l,(0,q.pendingThenable)()),this.options.experimental_prefetchInRender||(0,k._)(this,l).reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(M)}});function F(t,e){return!1!==(0,I.resolveEnabled)(e.enabled,t)&&void 0===t.state.data&&("error"!==t.state.status||!1!==e.retryOnMount)||void 0!==t.state.data&&j(t,e,e.refetchOnMount)}function j(t,e,s){if(!1!==(0,I.resolveEnabled)(e.enabled,t)){let i="function"==typeof s?s(t):s;return"always"===i||!1!==i&&L(t,e)}return!1}function P(t,e,s,i){return(t!==e||!1===(0,I.resolveEnabled)(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&L(t,s)}function L(t,e){return!1!==(0,I.resolveEnabled)(e.enabled,t)&&t.isStaleByTime((0,I.resolveStaleTime)(e.staleTime,t))}function A(t){(0,M._)(this,O,J).call(this);let e=(0,k._)(this,s).fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(e=e.catch(I.noop)),e}function H(){(0,M._)(this,m,V).call(this);let t=(0,I.resolveStaleTime)(this.options.staleTime,(0,k._)(this,s));if(I.isServer||(0,k._)(this,a).isStale||!(0,I.isValidTimeout)(t))return;let e=(0,I.timeUntilStale)((0,k._)(this,a).dataUpdatedAt,t);(0,E._)(this,d,setTimeout(()=>{(0,k._)(this,a).isStale||this.updateResult()},e+1))}function B(){var t;return null!=(t="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,k._)(this,s)):this.options.refetchInterval)&&t}function z(t){(0,M._)(this,R,G).call(this),(0,E._)(this,p,t),!I.isServer&&!1!==(0,I.resolveEnabled)(this.options.enabled,(0,k._)(this,s))&&(0,I.isValidTimeout)((0,k._)(this,p))&&0!==(0,k._)(this,p)&&(0,E._)(this,_,setInterval(()=>{(this.options.refetchIntervalInBackground||T.focusManager.isFocused())&&(0,M._)(this,v,A).call(this)},(0,k._)(this,p)))}function K(){(0,M._)(this,b,H).call(this),(0,M._)(this,y,z).call(this,(0,M._)(this,w,B).call(this))}function V(){(0,k._)(this,d)&&(clearTimeout((0,k._)(this,d)),(0,E._)(this,d,void 0))}function G(){(0,k._)(this,_)&&(clearInterval((0,k._)(this,_)),(0,E._)(this,_,void 0))}function J(){let t=(0,k._)(this,e).getQueryCache().build((0,k._)(this,e),this.options);if(t===(0,k._)(this,s))return;let a=(0,k._)(this,s);(0,E._)(this,s,t),(0,E._)(this,i,t.state),this.hasListeners()&&(null==a||a.removeObserver(this),t.addObserver(this))}function N(t){U.notifyManager.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t((0,k._)(this,a))}),(0,k._)(this,e).getQueryCache().notify({query:(0,k._)(this,s),type:"observerResultsUpdated"})})}t.i(42141);var X=t.i(86813),Y=t.i(4639);t.i(23531);var Z=X.createContext(function(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}());function $(){}var tt=X.createContext(!1);tt.Provider;var te=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function ts(t,e){return function(t,e,s){var i,a,r,n,l;let h=(0,Y.useQueryClient)(s),o=X.useContext(tt),u=X.useContext(Z),c=h.defaultQueryOptions(t);null==(a=h.getDefaultOptions().queries)||null==(i=a._experimental_beforeQuery)||i.call(a,c),c._optimisticResults=o?"isRestoring":"optimistic";let d=c.staleTime;c.suspense&&(c.staleTime="function"==typeof d?function(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];return Math.max(d(...e),1e3)}:Math.max(null!=d?d:1e3,1e3),"number"==typeof c.gcTime&&(c.gcTime=Math.max(c.gcTime,1e3))),(c.suspense||c.throwOnError||c.experimental_prefetchInRender)&&!u.isReset()&&(c.retryOnMount=!1),X.useEffect(()=>{u.clearReset()},[u]);let _=!h.getQueryCache().get(c.queryHash),[p]=X.useState(()=>new e(h,c)),f=p.getOptimisticResult(c),v=!o&&!1!==t.subscribed;if(X.useSyncExternalStore(X.useCallback(t=>{let e=v?p.subscribe(U.notifyManager.batchCalls(t)):$;return p.updateResult(),e},[p,v]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),X.useEffect(()=>{p.setOptions(c,{listeners:!1})},[c,p]),(null==c?void 0:c.suspense)&&f.isPending)throw te(c,p,u);if((t=>{var e,s;let{result:i,errorResetBoundary:a,throwOnError:r,query:n}=t;return i.isError&&!a.isReset()&&!i.isFetching&&n&&(e=r,s=[i.error,n],"function"==typeof e?e(...s):!!e)})({result:f,errorResetBoundary:u,throwOnError:c.throwOnError,query:h.getQueryCache().get(c.queryHash)}))throw f.error;if(null==(n=h.getDefaultOptions().queries)||null==(r=n._experimental_afterQuery)||r.call(n,c,f),c.experimental_prefetchInRender&&!I.isServer&&f.isLoading&&f.isFetching&&!o){let t=_?te(c,p,u):null==(l=h.getQueryCache().get(c.queryHash))?void 0:l.promise;null==t||t.catch($).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?f:p.trackResult(f)}(t,D,e)}}}]);

//# sourceMappingURL=a5817b8dead0b8e3.js.map